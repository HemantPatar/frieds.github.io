<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-97459416-1"> 
  </script>

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-97459416-1');
  </script>

  <meta name="author" content="Dan Friedman">
  <meta name="geo.region" content="CA">
  <meta property="og:locale" content="en_us">
  <meta name="robot" content="all">
  <meta name="referrer" content="always">
  <meta property="fb:profile_id" content="1357771151">
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Dan Friedman's Data Science Knowledge Base">

  <meta property="og:see_also" content="https://twitter.com/_DanFriedman"/>
  <meta property="og:see_also" content="https://www.linkedin.com/in/danfriedman33/"/>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@_DanFriedman">
  <meta name="twitter:image" content="https://pbs.twimg.com/profile_images/950134514113691648/7dt7ECh2_400x400.jpg" />

  <meta name="keywords" content="rank method python pandas window function">

  <meta name="description" content="Utilize the rank() method for pandas series - equivalent to ROW_NUMBER(), RANK(), DENSE_RANK() and NTILE() SQL window functions">
  <meta property="og:description"  content="Utilize the rank() method for pandas series - equivalent to ROW_NUMBER(), RANK(), DENSE_RANK() and NTILE() SQL window functions">
  <meta name="twitter:description" content="Utilize the rank() method for pandas series - equivalent to ROW_NUMBER(), RANK(), DENSE_RANK() and NTILE() SQL window functions">

  <meta property="og:title" content="Pandas rank() Method: Equivalent to ROW_NUMBER(), RANK(), DENSE_RANK() and NTILE() SQL Window Functions">
  <meta name="twitter:title" content="Pandas rank() Method: Equivalent to ROW_NUMBER(), RANK(), DENSE_RANK() and NTILE() SQL Window Functions">

  <link rel="canonical" href="https://dfrieds.com/data-analysis/rank-method-python-pandas"/>

  <title>Pandas rank() Method: Equivalent to ROW_NUMBER(), RANK(), DENSE_RANK() and NTILE() SQL Window Functions - Data Analysis</title>

  

  <!-- Latest compiled and minified Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/ie10-viewport-bug-workaround.css" />
  
  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/style.css" />

  <!--don't need this for live-->
  <!-- <link rel="stylesheet" href="theme/css/style.css"/> -->

  <link rel="stylesheet" href="https://dfrieds.com/theme/css/notebooks.css" />
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800,900" rel="stylesheet">


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <link href="https://dfrieds.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Full Atom Feed" />    <link href="https://dfrieds.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Full RSS Feed" />      <link href="https://dfrieds.com/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Categories Atom Feed" />    <link href="https://dfrieds.com/feeds/{slug}.rss.xml" type="application/rss+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Categories RSS Feed" />    

  <!-- Start of Async Drift Code -->
  <script>
    !function() {
      var t;
      if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0, 
        t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
        t.factory = function(e) {
          return function() {
            var n;
            return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
          };
        }, t.methods.forEach(function(e) {
          t[e] = t.factory(e);
        }), t.load = function(t) {
          var e, n, o, i;
          e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"), 
          o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js", 
          n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
        });
      }();
    drift.SNIPPET_VERSION = '0.3.1';
    drift.load('83xk3ceba36c');
  </script>
  <!-- End of Async Drift Code -->


</head>

<body>
  <div class="data-analysis"></div>

  <nav class="navbar navbar-expand-sm fixed-top">
    <div class="container">
      <a class="navbar-brand" href="https://dfrieds.com/">Dan<span class="green">_</span>Friedman</a>
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggle-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="nav navbar-nav mr-auto">
        </ul>
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tutorials</a>
              
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="https://dfrieds.com/#data-analysis">Data Analysis with Pandas</a>
                <a class="dropdown-item" href="https://dfrieds.com/#dataviz">Data Visualizations</a>
                <a class="dropdown-item" href="https://dfrieds.com/#python">Python</a>
                <a class="dropdown-item" href="https://dfrieds.com/#ml">Machine Learning</a>
                <a class="dropdown-item" href="https://dfrieds.com/#math">Math</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://dfrieds.com/#articles">Articles</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://dfrieds.com/about">About</a>
            </li>
          </ul>
      </div>
    </div>
  </nav>


  <!-- end of header section -->
  <div class="container">

<section id="content" class="body">
  <header>
    <div class="posttype"> 
    Data Analysis Data Wrangling Tutorial
    </div>
    

    <h1 class="articleh1">
      Pandas rank() Method: Equivalent to ROW_NUMBER(), RANK(), DENSE_RANK() and NTILE() SQL Window Functions
    </h1>

    <ul class ="row article_info">
      
      <li>
        April 15, 2019&nbsp;&nbsp;&bull;&nbsp;&nbsp;12 min read
      </li>
      <li class="tagarticle">
        Key Terms:         rank,
        pandas,
        python
      </li>
    </ul>
  </header>

  <div class='article_content'>
    <p>In SQL, popular window functions include: <code>ROW_NUMBER()</code>, <code>RANK()</code>, <code>DENSE_RANK()</code> and <code>NTILE()</code>. These are helpful for creating a new column that's a rank of some other values in a column, perhaps partitioned by one or multiple groups. You can learn about these SQL window functions via <a href='https://mode.com/resources/sql-tutorial/sql-window-functions/' target='_blank'>Mode's SQL tutorial</a>.</p>
<p>Similarly, using pandas in Python, the <a href='https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.rank.html' target="_blank"><code>rank()</code> method</a> for a series provides similar utility to the SQL window functions listed above.</p>
<p>In this tutorial, I'll cover the <code>rank()</code> method in pandas with an example of real estate transactions data and later quiz scores.</p>
<h3>Setup Code</h3>
<h4>Import Module</h4>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
</pre></div>


<h4>Gradient Used to Highlight Table Outputs</h4>
<div class="highlight"><pre><span></span><span class="n">cm</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">light_palette</span><span class="p">(</span><span class="s2">&quot;lightgreen&quot;</span><span class="p">,</span> <span class="n">as_cmap</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<h3>Example 1: Count of New Sellers Per Day</h3>
<h4>Create Real Estate Transaction Dataset</h4>
<p>I'll create a small dataset of 8 real estate transactions that include a close date and seller name for each house sale.</p>
<p>Take note that Julia sold 5 homes with some transactions on separate days. Lara also sold 2 homes on different days.</p>
<div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;close_date&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2012-08-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2012-08-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2012-08-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2012-08-02&quot;</span><span class="p">,</span> <span class="s2">&quot;2012-08-03&quot;</span><span class="p">,</span> <span class="s2">&quot;2012-08-04&quot;</span><span class="p">,</span> <span class="s2">&quot;2012-08-05&quot;</span><span class="p">,</span> <span class="s2">&quot;2012-08-07&quot;</span><span class="p">],</span>
        <span class="s1">&#39;seller_name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lara&quot;</span><span class="p">,</span> <span class="s2">&quot;Julia&quot;</span><span class="p">,</span> <span class="s2">&quot;Julia&quot;</span><span class="p">,</span> <span class="s2">&quot;Emily&quot;</span><span class="p">,</span> <span class="s2">&quot;Julia&quot;</span><span class="p">,</span> <span class="s2">&quot;Lara&quot;</span><span class="p">,</span> <span class="s2">&quot;Julia&quot;</span><span class="p">,</span> <span class="s2">&quot;Julia&quot;</span><span class="p">]</span>
       <span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>


<p>View entire <code>df</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>close_date</th>
      <th>seller_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2012-08-01</td>
      <td>Lara</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2012-08-01</td>
      <td>Julia</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2012-08-01</td>
      <td>Julia</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2012-08-02</td>
      <td>Emily</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2012-08-03</td>
      <td>Julia</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2012-08-04</td>
      <td>Lara</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2012-08-05</td>
      <td>Julia</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2012-08-07</td>
      <td>Julia</td>
    </tr>
  </tbody>
</table>
</div>

<p>Convert <code>close_date</code> column to datetime type in Python.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close_date&#39;</span><span class="p">])</span>
</pre></div>


<h4>Find Rank of Homes Sold for Each Seller by Close Date</h4>
<p>I want to know the rank of each house sale <em>by person ordered by time</em>. </p>
<p>Based on looking at the table above, Julia sold her first, second and third house on August 1st. On August 3rd, Julia sold her fourth house. </p>
<p>For the <code>df</code> dataframe, I want to create a new column that shows the numerical rank values for each person's home sales by day. To do this, I group by the <code>seller_name</code> column, and apply the <code>rank()</code> method to the <code>close_date</code> colummn. I set the <code>rank()</code> argument <code>methond='first'</code> to rank the sales of houses per person, ordered by date, in the order they appear. The new column with rank values is called <code>rank_seller_by_close_date</code>.</p>
<p>The <code>method='first'</code> for the <code>rank()</code> method for pandas series is equivalent to the <code>ROW_NUMBER()</code> window function in SQL.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;rank_seller_by_close_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;seller_name&#39;</span><span class="p">)[</span><span class="s1">&#39;close_date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
</pre></div>


<p>Below I output <code>df</code> and highlight the <code>rank_seller_by_close_date</code> with shades of green designated by numerical value. The higher the rank value, the darker the green highlighted background. <code>df</code> is ordered by <code>close_date</code>. </p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;rank_seller_by_close_date&#39;</span><span class="p">]])</span>
</pre></div>


<style  type="text/css" >
    #T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow0_col2 {
            background-color:  #e9fce9;
        }    #T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow1_col2 {
            background-color:  #e9fce9;
        }    #T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow2_col2 {
            background-color:  #d3f8d3;
        }    #T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow3_col2 {
            background-color:  #e9fce9;
        }    #T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow4_col2 {
            background-color:  #bcf5bc;
        }    #T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow5_col2 {
            background-color:  #d3f8d3;
        }    #T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow6_col2 {
            background-color:  #a6f1a6;
        }    #T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow7_col2 {
            background-color:  #90ee90;
        }</style>

<p><table id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5f" > 
<thead>    <tr> 
        <th class="blank level0" ></th> 
        <th class="col_heading level0 col0" >close_date</th> 
        <th class="col_heading level0 col1" >seller_name</th> 
        <th class="col_heading level0 col2" >rank_seller_by_close_date</th> 
    </tr></thead> 
<tbody>    <tr> 
        <th id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5flevel0_row0" class="row_heading level0 row0" >0</th> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow0_col0" class="data row0 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow0_col1" class="data row0 col1" >Lara</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow0_col2" class="data row0 col2" >1</td> 
    </tr>    <tr> 
        <th id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5flevel0_row1" class="row_heading level0 row1" >1</th> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow1_col0" class="data row1 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow1_col1" class="data row1 col1" >Julia</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow1_col2" class="data row1 col2" >1</td> 
    </tr>    <tr> 
        <th id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5flevel0_row2" class="row_heading level0 row2" >2</th> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow2_col0" class="data row2 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow2_col1" class="data row2 col1" >Julia</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow2_col2" class="data row2 col2" >2</td> 
    </tr>    <tr> 
        <th id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5flevel0_row3" class="row_heading level0 row3" >3</th> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow3_col0" class="data row3 col0" >2012-08-02 00:00:00</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow3_col1" class="data row3 col1" >Emily</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow3_col2" class="data row3 col2" >1</td> 
    </tr>    <tr> 
        <th id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5flevel0_row4" class="row_heading level0 row4" >4</th> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow4_col0" class="data row4 col0" >2012-08-03 00:00:00</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow4_col1" class="data row4 col1" >Julia</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow4_col2" class="data row4 col2" >3</td> 
    </tr>    <tr> 
        <th id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5flevel0_row5" class="row_heading level0 row5" >5</th> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow5_col0" class="data row5 col0" >2012-08-04 00:00:00</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow5_col1" class="data row5 col1" >Lara</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow5_col2" class="data row5 col2" >2</td> 
    </tr>    <tr> 
        <th id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5flevel0_row6" class="row_heading level0 row6" >6</th> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow6_col0" class="data row6 col0" >2012-08-05 00:00:00</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow6_col1" class="data row6 col1" >Julia</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow6_col2" class="data row6 col2" >4</td> 
    </tr>    <tr> 
        <th id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5flevel0_row7" class="row_heading level0 row7" >7</th> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow7_col0" class="data row7 col0" >2012-08-07 00:00:00</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow7_col1" class="data row7 col1" >Julia</td> 
        <td id="T_bbf37b36_5f9a_11e9_b74c_784f4368ca5frow7_col2" class="data row7 col2" >5</td> 
    </tr></tbody> 
</table> </p>
<p>It's difficult to easily see the order of ranks for each seller by date. Below, I output <code>df</code> sorted by <code>seller_name</code> and then <code>rank_seller_by_close_date</code>.</p>
<p>Much better! It's clear Julia's home sales are ranked by from oldest to newest. Even though she made two homes sales on August 1st, one is given a rank value of <code>1</code> and then next <code>2</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;seller_name&#39;</span><span class="p">,</span> <span class="s1">&#39;rank_seller_by_close_date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;rank_seller_by_close_date&#39;</span><span class="p">]])</span>
</pre></div>


<style  type="text/css" >
    #T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow0_col2 {
            background-color:  #e9fce9;
        }    #T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow1_col2 {
            background-color:  #e9fce9;
        }    #T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow2_col2 {
            background-color:  #d3f8d3;
        }    #T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow3_col2 {
            background-color:  #bcf5bc;
        }    #T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow4_col2 {
            background-color:  #a6f1a6;
        }    #T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow5_col2 {
            background-color:  #90ee90;
        }    #T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow6_col2 {
            background-color:  #e9fce9;
        }    #T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow7_col2 {
            background-color:  #d3f8d3;
        }</style>

<p><table id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5f" > 
<thead>    <tr> 
        <th class="blank level0" ></th> 
        <th class="col_heading level0 col0" >close_date</th> 
        <th class="col_heading level0 col1" >seller_name</th> 
        <th class="col_heading level0 col2" >rank_seller_by_close_date</th> 
    </tr></thead> 
<tbody>    <tr> 
        <th id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5flevel0_row0" class="row_heading level0 row0" >3</th> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow0_col0" class="data row0 col0" >2012-08-02 00:00:00</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow0_col1" class="data row0 col1" >Emily</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow0_col2" class="data row0 col2" >1</td> 
    </tr>    <tr> 
        <th id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5flevel0_row1" class="row_heading level0 row1" >1</th> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow1_col0" class="data row1 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow1_col1" class="data row1 col1" >Julia</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow1_col2" class="data row1 col2" >1</td> 
    </tr>    <tr> 
        <th id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5flevel0_row2" class="row_heading level0 row2" >2</th> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow2_col0" class="data row2 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow2_col1" class="data row2 col1" >Julia</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow2_col2" class="data row2 col2" >2</td> 
    </tr>    <tr> 
        <th id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5flevel0_row3" class="row_heading level0 row3" >4</th> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow3_col0" class="data row3 col0" >2012-08-03 00:00:00</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow3_col1" class="data row3 col1" >Julia</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow3_col2" class="data row3 col2" >3</td> 
    </tr>    <tr> 
        <th id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5flevel0_row4" class="row_heading level0 row4" >6</th> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow4_col0" class="data row4 col0" >2012-08-05 00:00:00</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow4_col1" class="data row4 col1" >Julia</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow4_col2" class="data row4 col2" >4</td> 
    </tr>    <tr> 
        <th id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5flevel0_row5" class="row_heading level0 row5" >7</th> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow5_col0" class="data row5 col0" >2012-08-07 00:00:00</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow5_col1" class="data row5 col1" >Julia</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow5_col2" class="data row5 col2" >5</td> 
    </tr>    <tr> 
        <th id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5flevel0_row6" class="row_heading level0 row6" >0</th> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow6_col0" class="data row6 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow6_col1" class="data row6 col1" >Lara</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow6_col2" class="data row6 col2" >1</td> 
    </tr>    <tr> 
        <th id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5flevel0_row7" class="row_heading level0 row7" >5</th> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow7_col0" class="data row7 col0" >2012-08-04 00:00:00</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow7_col1" class="data row7 col1" >Lara</td> 
        <td id="T_bbf63f9c_5f9a_11e9_a976_784f4368ca5frow7_col2" class="data row7 col2" >2</td> 
    </tr></tbody> 
</table> </p>
<h4>Find Count of New Sellers Per Seller Per Day</h4>
<p>I can utilize the rankings above to find the count of new sellers by day. </p>
<p>For example, Julia is a <em>new</em> home seller on August 1st because she has a rank of <code>1</code> that day. Julia would <em>not</em> be counted as a <em>new</em> home seller on August 3rd because she has a rank of <code>3</code> that day. </p>
<p>I can filter <code>df</code> by record in which <code>rank_seller_by_close_date</code> is equal to <code>1</code>. The three records for Lara, Julia and Emily show the <code>close_date</code> for each in which they sold their first home.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;rank_seller_by_close_date&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>close_date</th>
      <th>seller_name</th>
      <th>rank_seller_by_close_date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2012-08-01</td>
      <td>Lara</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2012-08-01</td>
      <td>Julia</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2012-08-02</td>
      <td>Emily</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>

<p>Let's take the table above and group by <code>close_date</code> to find the count of <code>close_date</code> observations. Below is the output.</p>
<p>Similar to above, on <code>2012-08-01</code>, we can see <code>2</code> new sellers representing Lara and Julia. On <code>2012-08-02</code>, we can see <code>1</code> new seller representing Emily.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;rank_seller_by_close_date&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;close_date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;count_new_sellers_of_homes&#39;</span><span class="p">})</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>close_date</th>
      <th>count_new_sellers_of_homes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2012-08-01</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2012-08-02</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>

<h3>Example 2: Count of New Sellers By Agency Per Day</h3>
<p>In example 1, I wanted the count of new sellers by day. In this example 2, I want the count of sellers by agency per day.</p>
<p>Below, I add a new column called <code>agency</code> that goes for each home sale.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;agency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Fifer&quot;</span><span class="p">,</span> <span class="s2">&quot;Fifer&quot;</span><span class="p">,</span> <span class="s2">&quot;Fifer&quot;</span><span class="p">,</span> <span class="s2">&quot;HomeSales&quot;</span><span class="p">,</span> <span class="s2">&quot;HomeSales&quot;</span><span class="p">,</span> <span class="s2">&quot;Fifer&quot;</span><span class="p">,</span> <span class="s2">&quot;Fifer&quot;</span><span class="p">,</span> <span class="s2">&quot;Fifer&quot;</span><span class="p">]</span>
</pre></div>


<p>Below I print the output of <code>df</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>close_date</th>
      <th>seller_name</th>
      <th>rank_seller_by_close_date</th>
      <th>agency</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2012-08-01</td>
      <td>Lara</td>
      <td>1.0</td>
      <td>Fifer</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2012-08-01</td>
      <td>Julia</td>
      <td>1.0</td>
      <td>Fifer</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2012-08-01</td>
      <td>Julia</td>
      <td>2.0</td>
      <td>Fifer</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2012-08-02</td>
      <td>Emily</td>
      <td>1.0</td>
      <td>HomeSales</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2012-08-03</td>
      <td>Julia</td>
      <td>3.0</td>
      <td>HomeSales</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2012-08-04</td>
      <td>Lara</td>
      <td>2.0</td>
      <td>Fifer</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2012-08-05</td>
      <td>Julia</td>
      <td>4.0</td>
      <td>Fifer</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2012-08-07</td>
      <td>Julia</td>
      <td>5.0</td>
      <td>Fifer</td>
    </tr>
  </tbody>
</table>
</div>

<p>I want to create the rank value of home sales by agency per seller ordered by close date. This is valuable so each agency can understand the count of new sellers per day. </p>
<p>Below, I group by two fields, <code>agency</code> and then <code>seller_name</code> and find a rank value ordered by <code>close_date</code>. I store these rank values in a new column called <code>first_rank_agency_seller_by_close_date</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;first_rank_agency_seller_by_close_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;agency&#39;</span><span class="p">,</span> <span class="s1">&#39;seller_name&#39;</span><span class="p">])[</span><span class="s1">&#39;close_date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
</pre></div>


<p>Below I output <code>df</code> and highlight the important column <code>first_rank_agency_seller_by_close_date</code>. The order of ranks below is a bit confusing. I'll re-order records after below's output.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;first_rank_agency_seller_by_close_date&#39;</span><span class="p">]])</span>
</pre></div>


<style  type="text/css" >
    #T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow0_col4 {
            background-color:  #e9fce9;
        }    #T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow1_col4 {
            background-color:  #e9fce9;
        }    #T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow2_col4 {
            background-color:  #cbf7cb;
        }    #T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow3_col4 {
            background-color:  #e9fce9;
        }    #T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow4_col4 {
            background-color:  #e9fce9;
        }    #T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow5_col4 {
            background-color:  #cbf7cb;
        }    #T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow6_col4 {
            background-color:  #aef3ae;
        }    #T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow7_col4 {
            background-color:  #90ee90;
        }</style>

<p><table id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5f" > 
<thead>    <tr> 
        <th class="blank level0" ></th> 
        <th class="col_heading level0 col0" >close_date</th> 
        <th class="col_heading level0 col1" >seller_name</th> 
        <th class="col_heading level0 col2" >rank_seller_by_close_date</th> 
        <th class="col_heading level0 col3" >agency</th> 
        <th class="col_heading level0 col4" >first_rank_agency_seller_by_close_date</th> 
    </tr></thead> 
<tbody>    <tr> 
        <th id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5flevel0_row0" class="row_heading level0 row0" >0</th> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow0_col0" class="data row0 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow0_col1" class="data row0 col1" >Lara</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow0_col2" class="data row0 col2" >1</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow0_col3" class="data row0 col3" >Fifer</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow0_col4" class="data row0 col4" >1</td> 
    </tr>    <tr> 
        <th id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5flevel0_row1" class="row_heading level0 row1" >1</th> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow1_col0" class="data row1 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow1_col1" class="data row1 col1" >Julia</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow1_col2" class="data row1 col2" >1</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow1_col3" class="data row1 col3" >Fifer</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow1_col4" class="data row1 col4" >1</td> 
    </tr>    <tr> 
        <th id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5flevel0_row2" class="row_heading level0 row2" >2</th> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow2_col0" class="data row2 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow2_col1" class="data row2 col1" >Julia</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow2_col2" class="data row2 col2" >2</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow2_col3" class="data row2 col3" >Fifer</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow2_col4" class="data row2 col4" >2</td> 
    </tr>    <tr> 
        <th id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5flevel0_row3" class="row_heading level0 row3" >3</th> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow3_col0" class="data row3 col0" >2012-08-02 00:00:00</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow3_col1" class="data row3 col1" >Emily</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow3_col2" class="data row3 col2" >1</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow3_col3" class="data row3 col3" >HomeSales</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow3_col4" class="data row3 col4" >1</td> 
    </tr>    <tr> 
        <th id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5flevel0_row4" class="row_heading level0 row4" >4</th> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow4_col0" class="data row4 col0" >2012-08-03 00:00:00</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow4_col1" class="data row4 col1" >Julia</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow4_col2" class="data row4 col2" >3</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow4_col3" class="data row4 col3" >HomeSales</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow4_col4" class="data row4 col4" >1</td> 
    </tr>    <tr> 
        <th id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5flevel0_row5" class="row_heading level0 row5" >5</th> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow5_col0" class="data row5 col0" >2012-08-04 00:00:00</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow5_col1" class="data row5 col1" >Lara</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow5_col2" class="data row5 col2" >2</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow5_col3" class="data row5 col3" >Fifer</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow5_col4" class="data row5 col4" >2</td> 
    </tr>    <tr> 
        <th id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5flevel0_row6" class="row_heading level0 row6" >6</th> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow6_col0" class="data row6 col0" >2012-08-05 00:00:00</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow6_col1" class="data row6 col1" >Julia</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow6_col2" class="data row6 col2" >4</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow6_col3" class="data row6 col3" >Fifer</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow6_col4" class="data row6 col4" >3</td> 
    </tr>    <tr> 
        <th id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5flevel0_row7" class="row_heading level0 row7" >7</th> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow7_col0" class="data row7 col0" >2012-08-07 00:00:00</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow7_col1" class="data row7 col1" >Julia</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow7_col2" class="data row7 col2" >5</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow7_col3" class="data row7 col3" >Fifer</td> 
        <td id="T_bc001bf4_5f9a_11e9_a1fb_784f4368ca5frow7_col4" class="data row7 col4" >4</td> 
    </tr></tbody> 
</table> </p>
<p>The output below is easier to understand because I sort <code>df</code> by <code>agency</code> and then <code>seller_name</code>.</p>
<p>Below, notice how <code>Fifer</code> <em>first</em> helped Julia sell a home on <code>2012-08-01</code> and first helped Lara sell a home on <code>2012-08-01</code>. Both of these rows have a <code>first_rank_agency_seller_by_close_date</code> value of <code>1</code>.</p>
<p>Then, when Julia sold a home with <code>HomeSales</code> on <code>2012-08-03</code>, that also has a <code>first_rank_agency_seller_by_close_date</code> value of <code>1</code> because that was her <em>first</em> home sold by date with that agency, <code>HomeSales</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;agency&#39;</span><span class="p">,</span> <span class="s1">&#39;seller_name&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;first_rank_agency_seller_by_close_date&#39;</span><span class="p">]])</span>
</pre></div>


<style  type="text/css" >
    #T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow0_col4 {
            background-color:  #e9fce9;
        }    #T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow1_col4 {
            background-color:  #cbf7cb;
        }    #T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow2_col4 {
            background-color:  #aef3ae;
        }    #T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow3_col4 {
            background-color:  #90ee90;
        }    #T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow4_col4 {
            background-color:  #e9fce9;
        }    #T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow5_col4 {
            background-color:  #cbf7cb;
        }    #T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow6_col4 {
            background-color:  #e9fce9;
        }    #T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow7_col4 {
            background-color:  #e9fce9;
        }</style>

<p><table id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5f" > 
<thead>    <tr> 
        <th class="blank level0" ></th> 
        <th class="col_heading level0 col0" >close_date</th> 
        <th class="col_heading level0 col1" >seller_name</th> 
        <th class="col_heading level0 col2" >rank_seller_by_close_date</th> 
        <th class="col_heading level0 col3" >agency</th> 
        <th class="col_heading level0 col4" >first_rank_agency_seller_by_close_date</th> 
    </tr></thead> 
<tbody>    <tr> 
        <th id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5flevel0_row0" class="row_heading level0 row0" >1</th> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow0_col0" class="data row0 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow0_col1" class="data row0 col1" >Julia</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow0_col2" class="data row0 col2" >1</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow0_col3" class="data row0 col3" >Fifer</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow0_col4" class="data row0 col4" >1</td> 
    </tr>    <tr> 
        <th id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5flevel0_row1" class="row_heading level0 row1" >2</th> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow1_col0" class="data row1 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow1_col1" class="data row1 col1" >Julia</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow1_col2" class="data row1 col2" >2</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow1_col3" class="data row1 col3" >Fifer</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow1_col4" class="data row1 col4" >2</td> 
    </tr>    <tr> 
        <th id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5flevel0_row2" class="row_heading level0 row2" >6</th> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow2_col0" class="data row2 col0" >2012-08-05 00:00:00</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow2_col1" class="data row2 col1" >Julia</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow2_col2" class="data row2 col2" >4</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow2_col3" class="data row2 col3" >Fifer</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow2_col4" class="data row2 col4" >3</td> 
    </tr>    <tr> 
        <th id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5flevel0_row3" class="row_heading level0 row3" >7</th> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow3_col0" class="data row3 col0" >2012-08-07 00:00:00</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow3_col1" class="data row3 col1" >Julia</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow3_col2" class="data row3 col2" >5</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow3_col3" class="data row3 col3" >Fifer</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow3_col4" class="data row3 col4" >4</td> 
    </tr>    <tr> 
        <th id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5flevel0_row4" class="row_heading level0 row4" >0</th> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow4_col0" class="data row4 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow4_col1" class="data row4 col1" >Lara</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow4_col2" class="data row4 col2" >1</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow4_col3" class="data row4 col3" >Fifer</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow4_col4" class="data row4 col4" >1</td> 
    </tr>    <tr> 
        <th id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5flevel0_row5" class="row_heading level0 row5" >5</th> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow5_col0" class="data row5 col0" >2012-08-04 00:00:00</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow5_col1" class="data row5 col1" >Lara</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow5_col2" class="data row5 col2" >2</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow5_col3" class="data row5 col3" >Fifer</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow5_col4" class="data row5 col4" >2</td> 
    </tr>    <tr> 
        <th id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5flevel0_row6" class="row_heading level0 row6" >3</th> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow6_col0" class="data row6 col0" >2012-08-02 00:00:00</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow6_col1" class="data row6 col1" >Emily</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow6_col2" class="data row6 col2" >1</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow6_col3" class="data row6 col3" >HomeSales</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow6_col4" class="data row6 col4" >1</td> 
    </tr>    <tr> 
        <th id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5flevel0_row7" class="row_heading level0 row7" >4</th> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow7_col0" class="data row7 col0" >2012-08-03 00:00:00</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow7_col1" class="data row7 col1" >Julia</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow7_col2" class="data row7 col2" >3</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow7_col3" class="data row7 col3" >HomeSales</td> 
        <td id="T_bc034d68_5f9a_11e9_b74b_784f4368ca5frow7_col4" class="data row7 col4" >1</td> 
    </tr></tbody> 
</table> </p>
<p>I still want the count of <em>new</em> sellers with each agency per day. Below is a filter of <code>df</code> for records in which <code>first_rank_agency_seller_by_close_date</code> equals <code>1</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;first_rank_agency_seller_by_close_date&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>close_date</th>
      <th>seller_name</th>
      <th>rank_seller_by_close_date</th>
      <th>agency</th>
      <th>first_rank_agency_seller_by_close_date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2012-08-01</td>
      <td>Lara</td>
      <td>1.0</td>
      <td>Fifer</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2012-08-01</td>
      <td>Julia</td>
      <td>1.0</td>
      <td>Fifer</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2012-08-02</td>
      <td>Emily</td>
      <td>1.0</td>
      <td>HomeSales</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2012-08-03</td>
      <td>Julia</td>
      <td>3.0</td>
      <td>HomeSales</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>

<p>To get the final final output a count of new sellers with each agency per day, I take the filtered dataframe from above, group by <code>agency</code> and then <code>close_date</code>, and then compute the group size. </p>
<p>Above I see two records of homes sold on <code>2012-08-01</code> by Lara and Julia with the agency <code>Fifer</code>. In the output from the group by operation below, I see an equivalent first record for <code>Fifer</code> on <code>2012-08-01</code> with <code>count_new_sellers_of_homes</code> equal to <code>2</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;first_rank_agency_seller_by_close_date&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;agency&#39;</span><span class="p">,</span> <span class="s1">&#39;close_date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;count_new_sellers_of_homes&#39;</span><span class="p">})</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>agency</th>
      <th>close_date</th>
      <th>count_new_sellers_of_homes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Fifer</td>
      <td>2012-08-01</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>HomeSales</td>
      <td>2012-08-02</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>HomeSales</td>
      <td>2012-08-03</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>

<h3>Example 3: Pandas Rank <code>method='min'</code> Comparison</h3>
<p>The pandas <code>rank()</code> method has an argument <code>method</code> that can be set to <code>min</code>. This is different than the method used above with <code>method</code> set to <code>first</code>.</p>
<p>The <code>method='min'</code> argument for the <code>rank()</code> method for pandas series is equivalent to the <code>RANK()</code> window function in SQL.</p>
<p>Notice how with <code>method='min'</code>, in the column <code>min_rank_agency_seller_by_close_date</code>, Julia's two home sales on August 1, 2012 are both given a tied rank of 1. </p>
<p>Then, the min rank value <em>skips</em> a value of <code>2</code> and Julia's next sale on August 5, 2012 has a value of <code>3</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;min_rank_agency_seller_by_close_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;agency&#39;</span><span class="p">,</span> <span class="s1">&#39;seller_name&#39;</span><span class="p">])[</span><span class="s1">&#39;close_date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;min&#39;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;agency&#39;</span><span class="p">,</span> <span class="s1">&#39;seller_name&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;min_rank_agency_seller_by_close_date&#39;</span><span class="p">]])</span>
</pre></div>


<style  type="text/css" >
    #T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow0_col5 {
            background-color:  #e9fce9;
        }    #T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow1_col5 {
            background-color:  #e9fce9;
        }    #T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow2_col5 {
            background-color:  #aef3ae;
        }    #T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow3_col5 {
            background-color:  #90ee90;
        }    #T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow4_col5 {
            background-color:  #e9fce9;
        }    #T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow5_col5 {
            background-color:  #cbf7cb;
        }    #T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow6_col5 {
            background-color:  #e9fce9;
        }    #T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow7_col5 {
            background-color:  #e9fce9;
        }</style>

<p><table id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5f" > 
<thead>    <tr> 
        <th class="blank level0" ></th> 
        <th class="col_heading level0 col0" >close_date</th> 
        <th class="col_heading level0 col1" >seller_name</th> 
        <th class="col_heading level0 col2" >rank_seller_by_close_date</th> 
        <th class="col_heading level0 col3" >agency</th> 
        <th class="col_heading level0 col4" >first_rank_agency_seller_by_close_date</th> 
        <th class="col_heading level0 col5" >min_rank_agency_seller_by_close_date</th> 
    </tr></thead> 
<tbody>    <tr> 
        <th id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5flevel0_row0" class="row_heading level0 row0" >1</th> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow0_col0" class="data row0 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow0_col1" class="data row0 col1" >Julia</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow0_col2" class="data row0 col2" >1</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow0_col3" class="data row0 col3" >Fifer</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow0_col4" class="data row0 col4" >1</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow0_col5" class="data row0 col5" >1</td> 
    </tr>    <tr> 
        <th id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5flevel0_row1" class="row_heading level0 row1" >2</th> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow1_col0" class="data row1 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow1_col1" class="data row1 col1" >Julia</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow1_col2" class="data row1 col2" >2</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow1_col3" class="data row1 col3" >Fifer</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow1_col4" class="data row1 col4" >2</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow1_col5" class="data row1 col5" >1</td> 
    </tr>    <tr> 
        <th id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5flevel0_row2" class="row_heading level0 row2" >6</th> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow2_col0" class="data row2 col0" >2012-08-05 00:00:00</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow2_col1" class="data row2 col1" >Julia</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow2_col2" class="data row2 col2" >4</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow2_col3" class="data row2 col3" >Fifer</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow2_col4" class="data row2 col4" >3</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow2_col5" class="data row2 col5" >3</td> 
    </tr>    <tr> 
        <th id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5flevel0_row3" class="row_heading level0 row3" >7</th> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow3_col0" class="data row3 col0" >2012-08-07 00:00:00</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow3_col1" class="data row3 col1" >Julia</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow3_col2" class="data row3 col2" >5</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow3_col3" class="data row3 col3" >Fifer</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow3_col4" class="data row3 col4" >4</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow3_col5" class="data row3 col5" >4</td> 
    </tr>    <tr> 
        <th id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5flevel0_row4" class="row_heading level0 row4" >0</th> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow4_col0" class="data row4 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow4_col1" class="data row4 col1" >Lara</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow4_col2" class="data row4 col2" >1</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow4_col3" class="data row4 col3" >Fifer</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow4_col4" class="data row4 col4" >1</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow4_col5" class="data row4 col5" >1</td> 
    </tr>    <tr> 
        <th id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5flevel0_row5" class="row_heading level0 row5" >5</th> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow5_col0" class="data row5 col0" >2012-08-04 00:00:00</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow5_col1" class="data row5 col1" >Lara</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow5_col2" class="data row5 col2" >2</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow5_col3" class="data row5 col3" >Fifer</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow5_col4" class="data row5 col4" >2</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow5_col5" class="data row5 col5" >2</td> 
    </tr>    <tr> 
        <th id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5flevel0_row6" class="row_heading level0 row6" >3</th> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow6_col0" class="data row6 col0" >2012-08-02 00:00:00</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow6_col1" class="data row6 col1" >Emily</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow6_col2" class="data row6 col2" >1</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow6_col3" class="data row6 col3" >HomeSales</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow6_col4" class="data row6 col4" >1</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow6_col5" class="data row6 col5" >1</td> 
    </tr>    <tr> 
        <th id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5flevel0_row7" class="row_heading level0 row7" >4</th> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow7_col0" class="data row7 col0" >2012-08-03 00:00:00</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow7_col1" class="data row7 col1" >Julia</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow7_col2" class="data row7 col2" >3</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow7_col3" class="data row7 col3" >HomeSales</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow7_col4" class="data row7 col4" >1</td> 
        <td id="T_bc0d943a_5f9a_11e9_be80_784f4368ca5frow7_col5" class="data row7 col5" >1</td> 
    </tr></tbody> 
</table> </p>
<p>The use case for <code>method='first'</code> versus <code>method='min'</code> varies on a case by case basis. It's important to understand your data well to make sure you utilize the correct one, though you can of course easily swap the argument's value.</p>
<h3>Example 4: Pandas Rank <code>method='dense'</code> Comparison</h3>
<p>The pandas <code>rank()</code> method has an argument <code>method</code> that can be set to <code>'dense'</code>. This is different than <code>method</code> set to either <code>'first'</code> or <code>'min'</code>. </p>
<p>Notice how with <code>method='dense'</code>, in the column <code>dense_rank_agency_seller_by_close_date</code>, Julia's two home sales on August 1, 2012 are both given a tied rank of <code>1</code>. </p>
<p>Then, the dense rank value <em>does not skip</em> a value of <code>2</code> and Julia's next sale on August 5, 2012 has a value of <code>2</code>. <code>'dense'</code> is different than <code>min</code>! </p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;dense_rank_agency_seller_by_close_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;agency&#39;</span><span class="p">,</span> <span class="s1">&#39;seller_name&#39;</span><span class="p">])[</span><span class="s1">&#39;close_date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;dense&#39;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;agency&#39;</span><span class="p">,</span> <span class="s1">&#39;seller_name&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;dense_rank_agency_seller_by_close_date&#39;</span><span class="p">]])</span>
</pre></div>


<style  type="text/css" >
    #T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow0_col6 {
            background-color:  #e9fce9;
        }    #T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow1_col6 {
            background-color:  #e9fce9;
        }    #T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow2_col6 {
            background-color:  #bcf5bc;
        }    #T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow3_col6 {
            background-color:  #90ee90;
        }    #T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow4_col6 {
            background-color:  #e9fce9;
        }    #T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow5_col6 {
            background-color:  #bcf5bc;
        }    #T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow6_col6 {
            background-color:  #e9fce9;
        }    #T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow7_col6 {
            background-color:  #e9fce9;
        }</style>

<p><table id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5f" > 
<thead>    <tr> 
        <th class="blank level0" ></th> 
        <th class="col_heading level0 col0" >close_date</th> 
        <th class="col_heading level0 col1" >seller_name</th> 
        <th class="col_heading level0 col2" >rank_seller_by_close_date</th> 
        <th class="col_heading level0 col3" >agency</th> 
        <th class="col_heading level0 col4" >first_rank_agency_seller_by_close_date</th> 
        <th class="col_heading level0 col5" >min_rank_agency_seller_by_close_date</th> 
        <th class="col_heading level0 col6" >dense_rank_agency_seller_by_close_date</th> 
    </tr></thead> 
<tbody>    <tr> 
        <th id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5flevel0_row0" class="row_heading level0 row0" >1</th> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow0_col0" class="data row0 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow0_col1" class="data row0 col1" >Julia</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow0_col2" class="data row0 col2" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow0_col3" class="data row0 col3" >Fifer</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow0_col4" class="data row0 col4" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow0_col5" class="data row0 col5" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow0_col6" class="data row0 col6" >1</td> 
    </tr>    <tr> 
        <th id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5flevel0_row1" class="row_heading level0 row1" >2</th> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow1_col0" class="data row1 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow1_col1" class="data row1 col1" >Julia</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow1_col2" class="data row1 col2" >2</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow1_col3" class="data row1 col3" >Fifer</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow1_col4" class="data row1 col4" >2</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow1_col5" class="data row1 col5" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow1_col6" class="data row1 col6" >1</td> 
    </tr>    <tr> 
        <th id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5flevel0_row2" class="row_heading level0 row2" >6</th> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow2_col0" class="data row2 col0" >2012-08-05 00:00:00</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow2_col1" class="data row2 col1" >Julia</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow2_col2" class="data row2 col2" >4</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow2_col3" class="data row2 col3" >Fifer</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow2_col4" class="data row2 col4" >3</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow2_col5" class="data row2 col5" >3</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow2_col6" class="data row2 col6" >2</td> 
    </tr>    <tr> 
        <th id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5flevel0_row3" class="row_heading level0 row3" >7</th> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow3_col0" class="data row3 col0" >2012-08-07 00:00:00</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow3_col1" class="data row3 col1" >Julia</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow3_col2" class="data row3 col2" >5</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow3_col3" class="data row3 col3" >Fifer</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow3_col4" class="data row3 col4" >4</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow3_col5" class="data row3 col5" >4</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow3_col6" class="data row3 col6" >3</td> 
    </tr>    <tr> 
        <th id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5flevel0_row4" class="row_heading level0 row4" >0</th> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow4_col0" class="data row4 col0" >2012-08-01 00:00:00</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow4_col1" class="data row4 col1" >Lara</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow4_col2" class="data row4 col2" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow4_col3" class="data row4 col3" >Fifer</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow4_col4" class="data row4 col4" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow4_col5" class="data row4 col5" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow4_col6" class="data row4 col6" >1</td> 
    </tr>    <tr> 
        <th id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5flevel0_row5" class="row_heading level0 row5" >5</th> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow5_col0" class="data row5 col0" >2012-08-04 00:00:00</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow5_col1" class="data row5 col1" >Lara</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow5_col2" class="data row5 col2" >2</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow5_col3" class="data row5 col3" >Fifer</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow5_col4" class="data row5 col4" >2</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow5_col5" class="data row5 col5" >2</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow5_col6" class="data row5 col6" >2</td> 
    </tr>    <tr> 
        <th id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5flevel0_row6" class="row_heading level0 row6" >3</th> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow6_col0" class="data row6 col0" >2012-08-02 00:00:00</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow6_col1" class="data row6 col1" >Emily</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow6_col2" class="data row6 col2" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow6_col3" class="data row6 col3" >HomeSales</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow6_col4" class="data row6 col4" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow6_col5" class="data row6 col5" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow6_col6" class="data row6 col6" >1</td> 
    </tr>    <tr> 
        <th id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5flevel0_row7" class="row_heading level0 row7" >4</th> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow7_col0" class="data row7 col0" >2012-08-03 00:00:00</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow7_col1" class="data row7 col1" >Julia</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow7_col2" class="data row7 col2" >3</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow7_col3" class="data row7 col3" >HomeSales</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow7_col4" class="data row7 col4" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow7_col5" class="data row7 col5" >1</td> 
        <td id="T_bc12cfb8_5f9a_11e9_87b4_784f4368ca5frow7_col6" class="data row7 col6" >1</td> 
    </tr></tbody> 
</table> </p>
<p>The use case for <code>'dense'</code> varies on a case by case basis. A second reminder - please understand your data well and why you'd choose <code>'dense'</code> over other options.</p>
<h3>Example 5: Pandas Rank <code>pct=True</code></h3>
<p>The pandas series <code>rank()</code> method has another argument called <code>pct</code> that can be set to <code>True</code> or <code>False</code>. By default, it's <code>False</code>. This <code>pct</code> argument computes the percentage rank of data.</p>
<p>To set the argument <code>pct=True</code> is similar to the <code>NTILE(100)</code> window function in SQL.</p>
<h4>Create Class Quiz Score Data</h4>
<p>Below I create fictional data for 11 students in a class that took the same quiz. The max possible score is <code>100</code>.</p>
<p>I remember in school, teachers told me I was in a certain percentile based on my GPA or score on a quiz. Therefore, I created a dataset I'll remember in relation to percentile rankings!</p>
<div class="highlight"><pre><span></span><span class="n">class_quiz_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jamie&quot;</span><span class="p">,</span> <span class="s2">&quot;Joe&quot;</span><span class="p">,</span> <span class="s2">&quot;Jake&quot;</span><span class="p">,</span> <span class="s2">&quot;Jill&quot;</span><span class="p">,</span> <span class="s2">&quot;James&quot;</span><span class="p">,</span> <span class="s2">&quot;Dan&quot;</span><span class="p">,</span> <span class="s2">&quot;Joy&quot;</span><span class="p">,</span> <span class="s2">&quot;Jared&quot;</span><span class="p">,</span> <span class="s2">&quot;Jill&quot;</span><span class="p">,</span> <span class="s2">&quot;Jaime&quot;</span><span class="p">,</span> <span class="s2">&quot;Jay&quot;</span><span class="p">],</span>
                   <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">80</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">84</span><span class="p">,</span> <span class="mi">85</span><span class="p">]</span>
                  <span class="p">}</span>
<span class="n">df_quiz_scores</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">class_quiz_data</span><span class="p">)</span>
</pre></div>


<p>View <code>df_quiz_scores</code> as a dataframe.</p>
<div class="highlight"><pre><span></span><span class="n">df_quiz_scores</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jamie</td>
      <td>80</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Joe</td>
      <td>85</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jake</td>
      <td>74</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jill</td>
      <td>100</td>
    </tr>
    <tr>
      <th>4</th>
      <td>James</td>
      <td>98</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Dan</td>
      <td>91</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Joy</td>
      <td>89</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Jared</td>
      <td>90</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Jill</td>
      <td>65</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Jaime</td>
      <td>84</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Jay</td>
      <td>85</td>
    </tr>
  </tbody>
</table>
</div>

<h4>Find the Percent Rank of Each Score in the Class</h4>
<p>Below I create a new column called <code>score_percent_rank</code> that's a ranking of scores in the <code>score</code> column.</p>
<div class="highlight"><pre><span></span><span class="n">df_quiz_scores</span><span class="p">[</span><span class="s1">&#39;score_percent_rank&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_quiz_scores</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">pct</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<p>View <code>df_quiz_scores</code> as a dataframe below. Notice how a high quiz score by Dan of <code>91</code> has a rank value of <code>0.81</code>. I think of this as the 81st percentile. </p>
<div class="highlight"><pre><span></span><span class="n">df_quiz_scores</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>score</th>
      <th>score_percent_rank</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jamie</td>
      <td>80</td>
      <td>0.272727</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Joe</td>
      <td>85</td>
      <td>0.500000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jake</td>
      <td>74</td>
      <td>0.181818</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jill</td>
      <td>100</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>James</td>
      <td>98</td>
      <td>0.909091</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Dan</td>
      <td>91</td>
      <td>0.818182</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Joy</td>
      <td>89</td>
      <td>0.636364</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Jared</td>
      <td>90</td>
      <td>0.727273</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Jill</td>
      <td>65</td>
      <td>0.090909</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Jaime</td>
      <td>84</td>
      <td>0.363636</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Jay</td>
      <td>85</td>
      <td>0.500000</td>
    </tr>
  </tbody>
</table>
</div>

<p>To make this rank easier to understand, I will multiply all these values by <span class="math">\(100\)</span> and round to the nearest integer value.</p>
<div class="highlight"><pre><span></span><span class="n">df_quiz_scores</span><span class="p">[</span><span class="s1">&#39;score_percentile_rank&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_quiz_scores</span><span class="p">[</span><span class="s1">&#39;score_percent_rank&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">()</span>
</pre></div>


<p>View <code>df_quiz_scores</code> as a dataframe below. Now, Dan's <code>score</code> of <code>91</code> has a score <code>score_percentile_rank</code> of <code>82</code>.</p>
<div class="highlight"><pre><span></span><span class="n">df_quiz_scores</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>score</th>
      <th>score_percent_rank</th>
      <th>score_percentile_rank</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jamie</td>
      <td>80</td>
      <td>0.272727</td>
      <td>27.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Joe</td>
      <td>85</td>
      <td>0.500000</td>
      <td>50.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jake</td>
      <td>74</td>
      <td>0.181818</td>
      <td>18.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jill</td>
      <td>100</td>
      <td>1.000000</td>
      <td>100.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>James</td>
      <td>98</td>
      <td>0.909091</td>
      <td>91.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Dan</td>
      <td>91</td>
      <td>0.818182</td>
      <td>82.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Joy</td>
      <td>89</td>
      <td>0.636364</td>
      <td>64.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Jared</td>
      <td>90</td>
      <td>0.727273</td>
      <td>73.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Jill</td>
      <td>65</td>
      <td>0.090909</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Jaime</td>
      <td>84</td>
      <td>0.363636</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Jay</td>
      <td>85</td>
      <td>0.500000</td>
      <td>50.0</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span>
</pre></div>


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "left",
        indent = "1em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
</section>

  </div>
  
  <!-- start of footer section -->
  <footer class="footer">
    <div class="container">
      <p class="text-muted">
        <center>Thank you for reading my content! This project is available on <a href="https://github.com/frieds/frieds.github.io">GitHub</a>.
          <br/>
          Copyright &copy; Dan Friedman,
          <time datetime="2019">2019</time>.
        </center>
      </p>
    </div>
  </footer>

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
  crossorigin="anonymous"></script>

  <!-- This jQuery line finds any span that contains code highlighting classes and then selects the parent <pre> tag and adds a border and background. This is done as a workaround to visually distinguish the code inputs and outputs -->
  <script>
    $( ".hll, .n, .c, .err, .k, .o, .cm, .cp, .c1, .cs, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt, .kc, .kd, .kn, .kp, .kr, .kt, .m, .s, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .ow, .w, .mf, .mh, .mi, .mo, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss, .bp, .vc, .vg, .vi, .il" ).parent( "pre" ).css( "border", "1px solid #038f6d" );
    $( ".hll, .n, .c, .err, .k, .o, .cm, .cp, .c1, .cs, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt, .kc, .kd, .kn, .kp, .kr, .kt, .m, .s, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .ow, .w, .mf, .mh, .mi, .mo, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss, .bp, .vc, .vg, .vi, .il" ).parent( "pre" ).css( "background-color", "#d6eed9" );
  </script>

  <!-- Latest compiled and minified Bootstrap JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="https://dfrieds.com/theme/js/ie10-viewport-bug-workaround.js"></script>
  <!-- <script type="text/javascript">
    $(document).on('click', 'a[href^="#"]', function (event) {
      event.preventDefault();
      $('html, body').animate({
        scrollTop: $($.attr(this, 'href')).offset().top
      }, 500);
    });
  </script> -->

</body>

</html>