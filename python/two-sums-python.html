<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-97459416-1"> 
  </script>

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-97459416-1');
  </script>

  <meta name="author" content="Dan Friedman">
  <meta name="geo.region" content="CA">
  <meta property="og:locale" content="en_us">
  <meta name="robot" content="all">
  <meta name="referrer" content="always">
  <meta property="fb:profile_id" content="1357771151">
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Dan Friedman's Data Science Knowledge Base">

  <meta property="og:see_also" content="https://twitter.com/_DanFriedman"/>
  <meta property="og:see_also" content="https://www.linkedin.com/in/danfriedman33/"/>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@_DanFriedman">
  <meta name="twitter:image" content="https://pbs.twimg.com/profile_images/950134514113691648/7dt7ECh2_400x400.jpg" />

  <meta name="keywords" content="two sum leetcode python">

  <meta name="description" content="Beginner Python algorithm problem with practical applications to the Big O notation.">
  <meta property="og:description"  content="Beginner Python algorithm problem with practical applications to the Big O notation.">
  <meta name="twitter:description" content="Beginner Python algorithm problem with practical applications to the Big O notation.">

  <meta property="og:title" content="Two Sums (via Leetcode)">
  <meta name="twitter:title" content="Two Sums (via Leetcode)">

  <link rel="canonical" href="https://dfrieds.com/python/two-sums-python"/>

  <title>Two Sums (via Leetcode) - Python</title>

  

  <!-- Latest compiled and minified Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/ie10-viewport-bug-workaround.css" />
  
  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/style.css" />

  <!--don't need this for live-->
  <!-- <link rel="stylesheet" href="theme/css/style.css"/> -->

  <link rel="stylesheet" href="https://dfrieds.com/theme/css/notebooks.css" />
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800,900" rel="stylesheet">


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <link href="https://dfrieds.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Full Atom Feed" />    <link href="https://dfrieds.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Full RSS Feed" />      <link href="https://dfrieds.com/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Categories Atom Feed" />    <link href="https://dfrieds.com/feeds/{slug}.rss.xml" type="application/rss+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Categories RSS Feed" />    

  <!-- Start of Async Drift Code -->
  <script>
    !function() {
      var t;
      if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0, 
        t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
        t.factory = function(e) {
          return function() {
            var n;
            return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
          };
        }, t.methods.forEach(function(e) {
          t[e] = t.factory(e);
        }), t.load = function(t) {
          var e, n, o, i;
          e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"), 
          o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js", 
          n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
        });
      }();
    drift.SNIPPET_VERSION = '0.3.1';
    drift.load('83xk3ceba36c');
  </script>
  <!-- End of Async Drift Code -->


</head>

<body>
  <div class="python"></div>

  <nav class="navbar navbar-expand-sm fixed-top">
    <div class="container">
      <a class="navbar-brand" href="https://dfrieds.com/">Dan<span class="green">_</span>Friedman</a>
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggle-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="nav navbar-nav mr-auto">
        </ul>
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tutorials</a>
              
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="https://dfrieds.com/#math">Math</a>
                <a class="dropdown-item" href="https://dfrieds.com/#data-analysis">Data Analysis with Pandas</a>
                <a class="dropdown-item" href="https://dfrieds.com/#dataviz">Data Visualizations</a>
                <a class="dropdown-item" href="https://dfrieds.com/#python">Python</a>
                <a class="dropdown-item" href="https://dfrieds.com/#ml">Machine Learning</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://dfrieds.com/#articles">Articles</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://dfrieds.com/about">About</a>
            </li>
          </ul>
      </div>
    </div>
  </nav>


  <!-- end of header section -->
  <div class="container">

<section id="content" class="body">
  <header>
    <div class="posttype"> 
    Python Beginner Algorithms Tutorial
    </div>
    

    <h1 class="articleh1">
      Two Sums (via Leetcode)
    </h1>

    <ul class ="row article_info">
      
      <li>
        September 23, 2018&nbsp;&nbsp;&bull;&nbsp;&nbsp;20 min read
      </li>
      <li class="tagarticle">
        Key Terms:         functions,
        loops,
        lists,
        dictionaries
      </li>
    </ul>
  </header>

  <div class='article_content'>
    <p>This example was found on <a href='https://leetcode.com/problems/two-sum/' rel='nofollow'>Leetcode</a>.</p>
<p>In this tutorial, I'll walk extensively through my logic for solving this problem.</p>
<p><strong>Problem statement:</strong></p>
<p>Given an array of integers, return indices of the two numbers such that they add up to a specific target.</p>
<p>You may assume that each input would have exactly one solution, and you may not use the same element twice.</p>
<p><strong>Example:</strong></p>
<p><code>Given nums = [2, 7, 11, 15], target = 9,</code></p>
<p><code>Because nums[0] + nums[1] = 2 + 7 = 9,</code>
<code>return [0, 1].</code></p>
<p>If you'd just like to see the answer, <a href="#best_answer">this link scrolls down the page to it</a>.</p>
<h4>Import Modules</h4>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="kn">as</span> <span class="nn">tick</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="o">%</span> <span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>


<h4>Visualization Setup Code</h4>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">reformat_large_tick_values</span><span class="p">(</span><span class="n">tick_val</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Turns large tick values (in the billions, millions and thousands) such as 4500 into 4.5K and also appropriately turns 4000 into 4K (no zero after the decimal).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">tick_val</span> <span class="o">&gt;=</span> <span class="mi">1000000000</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">tick_val</span><span class="o">/</span><span class="mi">1000000000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">new_tick_format</span> <span class="o">=</span> <span class="s1">&#39;{:}B&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">tick_val</span> <span class="o">&gt;=</span> <span class="mi">1000000</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">tick_val</span><span class="o">/</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">new_tick_format</span> <span class="o">=</span> <span class="s1">&#39;{:}M&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">tick_val</span> <span class="o">&gt;=</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">tick_val</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">new_tick_format</span> <span class="o">=</span> <span class="s1">&#39;{:}K&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">tick_val</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="n">new_tick_format</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">tick_val</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">new_tick_format</span> <span class="o">=</span> <span class="n">tick_val</span>

    <span class="c1"># make new_tick_format into a string value</span>
    <span class="n">new_tick_format</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">new_tick_format</span><span class="p">)</span>

    <span class="c1"># code below will keep 4.5M as is but change values such as 4.0M to 4M since that zero after the decimal isn&#39;t needed</span>
    <span class="n">index_of_decimal</span> <span class="o">=</span> <span class="n">new_tick_format</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">index_of_decimal</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">value_after_decimal</span> <span class="o">=</span> <span class="n">new_tick_format</span><span class="p">[</span><span class="n">index_of_decimal</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">value_after_decimal</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span><span class="p">:</span>
            <span class="c1"># remove the 0 after the decimal point since it&#39;s not needed</span>
            <span class="n">new_tick_format</span> <span class="o">=</span> <span class="n">new_tick_format</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">index_of_decimal</span><span class="p">]</span> <span class="o">+</span> <span class="n">new_tick_format</span><span class="p">[</span><span class="n">index_of_decimal</span><span class="o">+</span><span class="mi">2</span><span class="p">:]</span>

    <span class="k">return</span> <span class="n">new_tick_format</span>
</pre></div>


<h4>Setup Format of Logging Messages</h4>
<div class="highlight"><pre><span></span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)-25s</span><span class="s1"> </span><span class="si">%(levelname)-7s</span><span class="s1"> </span><span class="si">%(lineno)-4s</span><span class="s1"> </span><span class="si">%(message)-8s</span><span class="s1">&#39;</span><span class="p">)</span>                      
</pre></div>


<h4>Simple Problem Setup Data</h4>
<div class="highlight"><pre><span></span><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="n">target</span> <span class="o">=</span> <span class="mi">9</span>
</pre></div>


<h3>The Brute Force Approach: O(n^2) Time Complexity</h3>
<p>The first solution that came to my mind was to calculate all possible combinations through a nested for loop.</p>
<p>In a nested for loop, for each item in the list, I'll compare it to all items in the list. Let's setup that logic below.</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">num_outer</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">num_inner</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;outer loop value: {0} and inner loop value: {1}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_outer</span><span class="p">,</span> <span class="n">num_inner</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span>2018-09-26 11:27:32,408   INFO    3    outer loop value: 2 and inner loop value: 2
2018-09-26 11:27:32,410   INFO    3    outer loop value: 2 and inner loop value: 7
2018-09-26 11:27:32,411   INFO    3    outer loop value: 2 and inner loop value: 11
2018-09-26 11:27:32,412   INFO    3    outer loop value: 2 and inner loop value: 15
2018-09-26 11:27:32,413   INFO    3    outer loop value: 7 and inner loop value: 2
2018-09-26 11:27:32,414   INFO    3    outer loop value: 7 and inner loop value: 7
2018-09-26 11:27:32,415   INFO    3    outer loop value: 7 and inner loop value: 11
2018-09-26 11:27:32,415   INFO    3    outer loop value: 7 and inner loop value: 15
2018-09-26 11:27:32,416   INFO    3    outer loop value: 11 and inner loop value: 2
2018-09-26 11:27:32,417   INFO    3    outer loop value: 11 and inner loop value: 7
2018-09-26 11:27:32,418   INFO    3    outer loop value: 11 and inner loop value: 11
2018-09-26 11:27:32,418   INFO    3    outer loop value: 11 and inner loop value: 15
2018-09-26 11:27:32,419   INFO    3    outer loop value: 15 and inner loop value: 2
2018-09-26 11:27:32,420   INFO    3    outer loop value: 15 and inner loop value: 7
2018-09-26 11:27:32,421   INFO    3    outer loop value: 15 and inner loop value: 11
2018-09-26 11:27:32,422   INFO    3    outer loop value: 15 and inner loop value: 15
</pre></div>


<p>In the problem statement, there was mention to "not use the same element twice". The logic above breaks that rule because we compare each element from the outer loop to the same element in the inner loop. For example, on our first logged message, we compare <code>2</code> to <code>2</code> which breaks our rule.</p>
<p>In order to write logic so that we don't compare numbers to itself, I think it'd be helpful to track the indices of items we iterate over. In a future iteration, if we arrive at a point in which we compare the same index of the inner loop to the outer loop, we can pass as that wouldn't yield a correct solution to this problem.</p>
<p>To track the index of each item looped over in the list, let's use the <code>enumerate()</code> function built into Python's standard library.</p>
<p>Essentially, the <code>enumerate()</code> function adds a counter to an iterable. Our original list, <code>nums</code>, is an iterable.</p>
<p>If we pass our <code>nums</code> list to the <code>enumerate()</code> function, we're returned an <code>enumerate</code> object. This is an immutable object so it can't be modified in place. This object contains a list of tuples (immutable elements) - each with a pair of an index and an item value.</p>
<div class="highlight"><pre><span></span><span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>&lt;enumerate at 0x110e53048&gt;
</pre></div>


<p>Let's cast our <code>enumerate</code> object to a mutable list using the <code>list()</code> function.</p>
<div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span>[(0, 2), (1, 7), (2, 11), (3, 15)]
</pre></div>


<p>We can now see the indexes and values in our <code>nums</code> list. In our list, for each tuple, the first value is the index of the item in our list <code>nums</code> and the second value is the item value. The table below also shows this.</p>
<table>
<thead>
<tr>
<th>Index</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>2</td>
</tr>
<tr>
<td>1</td>
<td>7</td>
</tr>
<tr>
<td>2</td>
<td>11</td>
</tr>
<tr>
<td>3</td>
<td>15</td>
</tr>
</tbody>
</table>
<p>Remember, our <code>enumerate</code> object is an iterable so we can loop over each of the indices and values.</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;index: {0} and item value: {1}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span>2018-09-26 11:27:32,441   INFO    2    index: 0 and item value: 2
2018-09-26 11:27:32,442   INFO    2    index: 1 and item value: 7
2018-09-26 11:27:32,444   INFO    2    index: 2 and item value: 11
2018-09-26 11:27:32,445   INFO    2    index: 3 and item value: 15
</pre></div>


<p>Now let's use this similar logic for the <code>enumerate()</code> function to get the indices in our earlier nested for loop.</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index_outer</span><span class="p">,</span> <span class="n">num_outer</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">index_inner</span><span class="p">,</span> <span class="n">num_inner</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;outer loop value: {0} at index {1} and inner loop value: {2} at index {3}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_outer</span><span class="p">,</span> <span class="n">index_outer</span><span class="p">,</span> <span class="n">num_inner</span><span class="p">,</span> <span class="n">index_inner</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span>2018-09-26 11:27:32,450   INFO    3    outer loop value: 2 at index 0 and inner loop value: 2 at index 0
2018-09-26 11:27:32,453   INFO    3    outer loop value: 2 at index 0 and inner loop value: 7 at index 1
2018-09-26 11:27:32,455   INFO    3    outer loop value: 2 at index 0 and inner loop value: 11 at index 2
2018-09-26 11:27:32,456   INFO    3    outer loop value: 2 at index 0 and inner loop value: 15 at index 3
2018-09-26 11:27:32,457   INFO    3    outer loop value: 7 at index 1 and inner loop value: 2 at index 0
2018-09-26 11:27:32,458   INFO    3    outer loop value: 7 at index 1 and inner loop value: 7 at index 1
2018-09-26 11:27:32,459   INFO    3    outer loop value: 7 at index 1 and inner loop value: 11 at index 2
2018-09-26 11:27:32,461   INFO    3    outer loop value: 7 at index 1 and inner loop value: 15 at index 3
2018-09-26 11:27:32,462   INFO    3    outer loop value: 11 at index 2 and inner loop value: 2 at index 0
2018-09-26 11:27:32,463   INFO    3    outer loop value: 11 at index 2 and inner loop value: 7 at index 1
2018-09-26 11:27:32,463   INFO    3    outer loop value: 11 at index 2 and inner loop value: 11 at index 2
2018-09-26 11:27:32,464   INFO    3    outer loop value: 11 at index 2 and inner loop value: 15 at index 3
2018-09-26 11:27:32,465   INFO    3    outer loop value: 15 at index 3 and inner loop value: 2 at index 0
2018-09-26 11:27:32,466   INFO    3    outer loop value: 15 at index 3 and inner loop value: 7 at index 1
2018-09-26 11:27:32,467   INFO    3    outer loop value: 15 at index 3 and inner loop value: 11 at index 2
2018-09-26 11:27:32,469   INFO    3    outer loop value: 15 at index 3 and inner loop value: 15 at index 3
</pre></div>


<p>In the problem statement, there was mention to "not use the same element twice". Now that we <em>can</em> track the indices of each element we iterate over, we can incorporate logic to ensure we don't compare a value to itself.</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index_outer</span><span class="p">,</span> <span class="n">num_outer</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">index_inner</span><span class="p">,</span> <span class="n">num_inner</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">index_outer</span> <span class="o">!=</span> <span class="n">index_inner</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;outer loop value: {0} at index {1} and inner loop value: {2} at index {3}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_outer</span><span class="p">,</span> <span class="n">index_outer</span><span class="p">,</span> <span class="n">num_inner</span><span class="p">,</span> <span class="n">index_inner</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span>2018-09-26 11:27:32,474   INFO    4    outer loop value: 2 at index 0 and inner loop value: 7 at index 1
2018-09-26 11:27:32,475   INFO    4    outer loop value: 2 at index 0 and inner loop value: 11 at index 2
2018-09-26 11:27:32,476   INFO    4    outer loop value: 2 at index 0 and inner loop value: 15 at index 3
2018-09-26 11:27:32,477   INFO    4    outer loop value: 7 at index 1 and inner loop value: 2 at index 0
2018-09-26 11:27:32,478   INFO    4    outer loop value: 7 at index 1 and inner loop value: 11 at index 2
2018-09-26 11:27:32,479   INFO    4    outer loop value: 7 at index 1 and inner loop value: 15 at index 3
2018-09-26 11:27:32,480   INFO    4    outer loop value: 11 at index 2 and inner loop value: 2 at index 0
2018-09-26 11:27:32,481   INFO    4    outer loop value: 11 at index 2 and inner loop value: 7 at index 1
2018-09-26 11:27:32,482   INFO    4    outer loop value: 11 at index 2 and inner loop value: 15 at index 3
2018-09-26 11:27:32,483   INFO    4    outer loop value: 15 at index 3 and inner loop value: 2 at index 0
2018-09-26 11:27:32,484   INFO    4    outer loop value: 15 at index 3 and inner loop value: 7 at index 1
2018-09-26 11:27:32,485   INFO    4    outer loop value: 15 at index 3 and inner loop value: 11 at index 2
</pre></div>


<p>In regards to our problem statement, we want to check what two numbers in our list add up to our target. Let's incorporate this logic in the <code>if</code> clause.</p>
<p>Let's also wrap our logic in a function so when we find our solution, we can break out of the function and return the indices.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">two_sums</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a list of integers, return indices of the two numbers such that they add up to a specific target.</span>

<span class="sd">    :param nums: list of integers</span>
<span class="sd">    :param target: integer </span>
<span class="sd">    :returns: list of two indices as integers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;begin iteration for a nested for loop over the indices and values in nums&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">index_outer</span><span class="p">,</span> <span class="n">num_outer</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">index_inner</span><span class="p">,</span> <span class="n">num_inner</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;check we&#39;re not comparing a value to itself&quot;</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;check if two values in the list are equal to the target&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">index_outer</span> <span class="o">!=</span> <span class="n">index_inner</span> <span class="ow">and</span> <span class="n">num_outer</span> <span class="o">+</span> <span class="n">num_inner</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;These are our two values! The outer loop value: {0} at index {1} and inner loop value: {2} at index {3}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_outer</span><span class="p">,</span> <span class="n">index_outer</span><span class="p">,</span> <span class="n">num_inner</span><span class="p">,</span> <span class="n">index_inner</span><span class="p">))</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;{0} + {1} = {2}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_outer</span><span class="p">,</span> <span class="n">num_inner</span><span class="p">,</span> <span class="n">target</span><span class="p">))</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">index_outer</span><span class="p">,</span> <span class="n">index_inner</span><span class="p">]</span>
</pre></div>


<p>Call the function below.</p>
<div class="highlight"><pre><span></span><span class="n">two_sums</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>2018-09-26 11:27:32,499   INFO    15   These are our two values! The outer loop value: 2 at index 0 and inner loop value: 7 at index 1
2018-09-26 11:27:32,500   INFO    16   2 + 7 = 9





[0, 1]
</pre></div>


<p>This logic seems to work! However, what happens if the length of our list items drastically increases - perhaps from 4 items to 9000? Also, what if the target is the sum of the 8999th and 9000th items in the list? That would be considered our worst case scenario. </p>
<p>Validating the runtime of our code as the length of list items drastically increases will help us understand the time complexity of our code. Later, we'll visualize this time complexity.</p>
<p>Below is a very simple example of our setup data. Note, how I create a list of <code>nums</code> assigned to <code>[0, 1, 2, 3, 4, 5]</code>. I purposely make the target <code>9</code> so that it's the sum of the last two values in our list.</p>
<div class="highlight"><pre><span></span><span class="n">max_list_value</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">start_range</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">step</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">nums</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">start_range</span><span class="p">,</span> <span class="n">max_list_value</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="p">))</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">max_list_value</span> <span class="o">+</span> <span class="p">(</span><span class="n">max_list_value</span> <span class="o">-</span> <span class="n">step</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">nums</span>
</pre></div>


<div class="highlight"><pre><span></span>[0, 1, 2, 3, 4, 5]
</pre></div>


<div class="highlight"><pre><span></span><span class="n">target</span>
</pre></div>


<div class="highlight"><pre><span></span>9
</pre></div>


<p>Let's put this logic to setup <code>nums</code> and <code>target</code> in a function since we'll re-use it later.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_two_sums_setup_data</span><span class="p">(</span><span class="n">max_list_value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param nums: list of integers</span>

<span class="sd">    Given a max_list_value, calculate a worse case scenario for two_sums setup data. </span>
<span class="sd">    Create a list of nums from 0 to our max_list_value with a step of 1.</span>
<span class="sd">    Our target is the sum of the last two values in our list of nums.</span>

<span class="sd">    :returns: nums, target - a tuple of a list of numbers and a target integer value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">start_range</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">step</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">nums</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">start_range</span><span class="p">,</span> <span class="n">max_list_value</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="p">))</span>
    <span class="n">target</span> <span class="o">=</span> <span class="n">max_list_value</span> <span class="o">+</span> <span class="p">(</span><span class="n">max_list_value</span> <span class="o">-</span> <span class="n">step</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">nums</span><span class="p">,</span> <span class="n">target</span>
</pre></div>


<p>Below, we run our <code>two_sums</code> function multiple times, each time with a new and longer list of items in <code>nums</code>, and we record the time it takes to complete the <code>two_sums</code> calculations to return the result.</p>
<div class="highlight"><pre><span></span><span class="n">length_list_items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">2500</span><span class="p">,</span> <span class="mi">3000</span><span class="p">,</span> <span class="mi">3500</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">4500</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">5500</span><span class="p">,</span> <span class="mi">6000</span><span class="p">,</span> <span class="mi">6500</span><span class="p">,</span> <span class="mi">7000</span><span class="p">,</span> <span class="mi">7500</span><span class="p">,</span> <span class="mi">8000</span><span class="p">,</span> <span class="mi">9000</span><span class="p">]</span>
<span class="n">completion_times</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">max_list_value</span> <span class="ow">in</span> <span class="n">length_list_items</span><span class="p">:</span>
    <span class="n">nums</span><span class="p">,</span> <span class="n">target</span> <span class="o">=</span> <span class="n">calculate_two_sums_setup_data</span><span class="p">(</span><span class="n">max_list_value</span><span class="p">)</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;call our two_sums function&quot;</span><span class="p">)</span>
    <span class="n">two_sums</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
    <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="n">time_elapsed</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;for {0} list items, program took {1} seconds to compute&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">max_list_value</span><span class="p">,</span> <span class="n">time_elapsed</span><span class="p">))</span>
    <span class="n">completion_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time_elapsed</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>2018-09-26 11:27:32,642   INFO    15   These are our two values! The outer loop value: 199 at index 199 and inner loop value: 200 at index 200
2018-09-26 11:27:32,643   INFO    16   199 + 200 = 399
2018-09-26 11:27:32,644   INFO    11   for 200 list items, program took 0.11205101013183594 seconds to compute
2018-09-26 11:27:33,554   INFO    15   These are our two values! The outer loop value: 599 at index 599 and inner loop value: 600 at index 600
2018-09-26 11:27:33,555   INFO    16   599 + 600 = 1199
2018-09-26 11:27:33,556   INFO    11   for 600 list items, program took 0.9107637405395508 seconds to compute
2018-09-26 11:27:36,109   INFO    15   These are our two values! The outer loop value: 999 at index 999 and inner loop value: 1000 at index 1000
2018-09-26 11:27:36,110   INFO    16   999 + 1000 = 1999
2018-09-26 11:27:36,110   INFO    11   for 1000 list items, program took 2.553212881088257 seconds to compute
2018-09-26 11:27:42,086   INFO    15   These are our two values! The outer loop value: 1499 at index 1499 and inner loop value: 1500 at index 1500
2018-09-26 11:27:42,086   INFO    16   1499 + 1500 = 2999
2018-09-26 11:27:42,087   INFO    11   for 1500 list items, program took 5.976001977920532 seconds to compute
2018-09-26 11:27:52,765   INFO    15   These are our two values! The outer loop value: 1999 at index 1999 and inner loop value: 2000 at index 2000
2018-09-26 11:27:52,766   INFO    16   1999 + 2000 = 3999
2018-09-26 11:27:52,767   INFO    11   for 2000 list items, program took 10.678652286529541 seconds to compute
2018-09-26 11:28:08,665   INFO    15   These are our two values! The outer loop value: 2499 at index 2499 and inner loop value: 2500 at index 2500
2018-09-26 11:28:08,666   INFO    16   2499 + 2500 = 4999
2018-09-26 11:28:08,667   INFO    11   for 2500 list items, program took 15.898905038833618 seconds to compute
2018-09-26 11:28:31,229   INFO    15   These are our two values! The outer loop value: 2999 at index 2999 and inner loop value: 3000 at index 3000
2018-09-26 11:28:31,229   INFO    16   2999 + 3000 = 5999
2018-09-26 11:28:31,230   INFO    11   for 3000 list items, program took 22.562479734420776 seconds to compute
2018-09-26 11:29:03,759   INFO    15   These are our two values! The outer loop value: 3499 at index 3499 and inner loop value: 3500 at index 3500
2018-09-26 11:29:03,759   INFO    16   3499 + 3500 = 6999
2018-09-26 11:29:03,760   INFO    11   for 3500 list items, program took 32.5286340713501 seconds to compute
2018-09-26 11:29:45,121   INFO    15   These are our two values! The outer loop value: 3999 at index 3999 and inner loop value: 4000 at index 4000
2018-09-26 11:29:45,122   INFO    16   3999 + 4000 = 7999
2018-09-26 11:29:45,123   INFO    11   for 4000 list items, program took 41.36193609237671 seconds to compute
2018-09-26 11:30:38,877   INFO    15   These are our two values! The outer loop value: 4499 at index 4499 and inner loop value: 4500 at index 4500
2018-09-26 11:30:38,878   INFO    16   4499 + 4500 = 8999
2018-09-26 11:30:38,878   INFO    11   for 4500 list items, program took 53.75411009788513 seconds to compute
2018-09-26 11:31:44,388   INFO    15   These are our two values! The outer loop value: 4999 at index 4999 and inner loop value: 5000 at index 5000
2018-09-26 11:31:44,389   INFO    16   4999 + 5000 = 9999
2018-09-26 11:31:44,390   INFO    11   for 5000 list items, program took 65.51058268547058 seconds to compute
2018-09-26 11:33:00,584   INFO    15   These are our two values! The outer loop value: 5499 at index 5499 and inner loop value: 5500 at index 5500
2018-09-26 11:33:00,585   INFO    16   5499 + 5500 = 10999
2018-09-26 11:33:00,586   INFO    11   for 5500 list items, program took 76.19554901123047 seconds to compute
2018-09-26 11:34:32,890   INFO    15   These are our two values! The outer loop value: 5999 at index 5999 and inner loop value: 6000 at index 6000
2018-09-26 11:34:32,891   INFO    16   5999 + 6000 = 11999
2018-09-26 11:34:32,891   INFO    11   for 6000 list items, program took 92.30431509017944 seconds to compute
2018-09-26 11:36:23,245   INFO    15   These are our two values! The outer loop value: 6499 at index 6499 and inner loop value: 6500 at index 6500
2018-09-26 11:36:23,246   INFO    16   6499 + 6500 = 12999
2018-09-26 11:36:23,247   INFO    11   for 6500 list items, program took 110.35442090034485 seconds to compute
2018-09-26 11:38:29,359   INFO    15   These are our two values! The outer loop value: 6999 at index 6999 and inner loop value: 7000 at index 7000
2018-09-26 11:38:29,360   INFO    16   6999 + 7000 = 13999
2018-09-26 11:38:29,361   INFO    11   for 7000 list items, program took 126.11287093162537 seconds to compute
2018-09-26 11:40:54,362   INFO    15   These are our two values! The outer loop value: 7499 at index 7499 and inner loop value: 7500 at index 7500
2018-09-26 11:40:54,363   INFO    16   7499 + 7500 = 14999
2018-09-26 11:40:54,364   INFO    11   for 7500 list items, program took 145.0021047592163 seconds to compute
2018-09-26 11:43:37,437   INFO    15   These are our two values! The outer loop value: 7999 at index 7999 and inner loop value: 8000 at index 8000
2018-09-26 11:43:37,438   INFO    16   7999 + 8000 = 15999
2018-09-26 11:43:37,439   INFO    11   for 8000 list items, program took 163.07327914237976 seconds to compute
2018-09-26 11:47:00,107   INFO    15   These are our two values! The outer loop value: 8999 at index 8999 and inner loop value: 9000 at index 9000
2018-09-26 11:47:00,108   INFO    16   8999 + 9000 = 17999
2018-09-26 11:47:00,109   INFO    11   for 9000 list items, program took 202.66879105567932 seconds to compute
</pre></div>


<p>Below, let's visualize the seconds to compute for each run of <code>two_sums</code> with a certain number of list items in <code>nums</code>.</p>
<div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">&#39;talk&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">length_list_items</span><span class="p">,</span> <span class="n">completion_times</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Time Complexity of Two Sums (Brute Force Method)&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;worst case scenario count of list items&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;seconds to compute&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">tick</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="n">reformat_large_tick_values</span><span class="p">));</span>
</pre></div>


<p><img alt="png" src="two_sums_files/two_sums_40_0.png"></p>
<p>This curve looks exponential! The reason for that is that by time complexity standards, we perform O(n²). <em>n</em> is the length of items in <code>nums</code> and we essentially perform <em>n²</em> iterations because for each value of <em>n</em>, we multiply it by all other values in <em>n</em>.</p>
<p>We generally want to avoid O(n²) time complexity because as <em>n</em> increase, our program will take exponentially longer to complete. </p>
<p>However, on the good side, our solution is just O(1) by space complexity because we just store the resultant indices.</p>
<p>Generally, there's a tradeoff between time and space complexity. In the next method to solve this problem, we'll trade off time complexity for space complexity. So our code will run much quicker, but we'll save more on disk.</p>
<h3>A Faster Method</h3>
<p>We don't need to loop through the entire list multiple times. Rather, we can develop an alternative method that saves the index and values of numbers in the <code>nums</code> list as a dictionary. Once we have that dictionary, we can do many quick O(1) lookups to see if any two numbers we've iterated over add up to our <code>target</code>.</p>
<h4>A Simple Walkthrough of this Faster Method</h4>
<div class="highlight"><pre><span></span><span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">target</span> <span class="o">=</span> <span class="mi">7</span>
</pre></div>


<p>Let's say we're iterating over the four items in <code>nums</code> above. As we iterate over the first three items, we could store them in a dictionary seen below by <code>dict_past_iterated_nums_and_indices</code>. The keys are the items in <code>nums</code> and the values in the dictionary are the items respective index in <code>nums</code>.</p>
<div class="highlight"><pre><span></span><span class="n">dict_past_iterated_nums_and_indices</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</pre></div>


<p>In a Python dictionary, in a O(1) time complexity operation, we can lookup a key and are returned a boolean value.</p>
<p><code>1</code> is a key in <code>dict_past_iterated_nums_and_indices</code>.</p>
<div class="highlight"><pre><span></span><span class="mi">1</span> <span class="ow">in</span> <span class="n">dict_past_iterated_nums_and_indices</span>
</pre></div>


<div class="highlight"><pre><span></span>True
</pre></div>


<p>2 is a key in <code>dict_past_iterated_nums_and_indices</code></p>
<div class="highlight"><pre><span></span><span class="mi">2</span> <span class="ow">in</span> <span class="n">dict_past_iterated_nums_and_indices</span>
</pre></div>


<div class="highlight"><pre><span></span>True
</pre></div>


<p>But, there's no key with a value of <code>5</code> in <code>dict_past_iterated_nums_and_indices</code>.</p>
<div class="highlight"><pre><span></span><span class="mi">5</span> <span class="ow">in</span> <span class="n">dict_past_iterated_nums_and_indices</span>
</pre></div>


<div class="highlight"><pre><span></span>False
</pre></div>


<p>We know <code>4</code> is the last item in <code>nums</code>. That would be the last item we iterate over in a single loop over the items in <code>nums</code>. </p>
<p>Our <code>target</code> is <code>7</code> so once our iteration reaches 4, we can easily lookup if there exists a number in which <code>target</code>-<code>4</code> which is equal to <code>3</code> exists in <code>dict_past_iterated_nums_and_indices</code>.</p>
<div class="highlight"><pre><span></span><span class="n">target</span> <span class="o">-</span> <span class="mi">4</span>
</pre></div>


<div class="highlight"><pre><span></span>3
</pre></div>


<div class="highlight"><pre><span></span><span class="n">target</span> <span class="o">-</span> <span class="mi">4</span> <span class="ow">in</span> <span class="n">dict_past_iterated_nums_and_indices</span>
</pre></div>


<div class="highlight"><pre><span></span>True
</pre></div>


<p>It does! Based on this logic, we need just one iteration over our <code>nums</code> in order to find the solution.</p>
<p>Let's code up this logic in a function. This is the <strong><a name="best_answer">best answer</a></strong> in this tutorial.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">two_sums_faster</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a list of integers, return indices of the two numbers such that they add up to a specific target.</span>

<span class="sd">    :param nums: list of integers</span>
<span class="sd">    :param target: integer </span>
<span class="sd">    :returns: list of two indices as integers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;create empty dictionary to store values and indexes from nums&quot;</span><span class="p">)</span>
    <span class="n">dict_past_iterated_nums_and_indices</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;iterate over the indices and items in nums&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
        <span class="c1"># below, check if there&#39;s a previously stored key that when summed up with the current item of our iteration of nums equals the target</span>
        <span class="k">if</span> <span class="n">target</span> <span class="o">-</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">dict_past_iterated_nums_and_indices</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;we found the two indices: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">([</span><span class="n">dict_past_iterated_nums_and_indices</span><span class="p">[</span><span class="n">target</span> <span class="o">-</span> <span class="n">value</span><span class="p">],</span> <span class="n">index</span><span class="p">]))</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">dict_past_iterated_nums_and_indices</span><span class="p">[</span><span class="n">target</span><span class="o">-</span><span class="n">value</span><span class="p">],</span> <span class="n">index</span><span class="p">]</span>
        <span class="c1"># below, add current item in nums as key to our dict and assign the dict value to be the index in nums</span>
        <span class="n">dict_past_iterated_nums_and_indices</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">index</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">completion_times_faster_method</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">max_list_value</span> <span class="ow">in</span> <span class="n">length_list_items</span><span class="p">:</span>
    <span class="n">nums</span><span class="p">,</span> <span class="n">target</span> <span class="o">=</span> <span class="n">calculate_two_sums_setup_data</span><span class="p">(</span><span class="n">max_list_value</span><span class="p">)</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;call our two_sums_faster function&quot;</span><span class="p">)</span>
    <span class="n">two_sums_faster</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
    <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="n">time_elapsed</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;for {0} list items, program took {1} seconds to compute&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">max_list_value</span><span class="p">,</span> <span class="n">time_elapsed</span><span class="p">))</span>
    <span class="n">completion_times_faster_method</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time_elapsed</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>2018-09-26 11:47:00,502   INFO    15   we found the two indices: [199, 200]
2018-09-26 11:47:00,503   INFO    10   for 200 list items, program took 0.001399993896484375 seconds to compute
2018-09-26 11:47:00,504   INFO    15   we found the two indices: [599, 600]
2018-09-26 11:47:00,505   INFO    10   for 600 list items, program took 0.001135110855102539 seconds to compute
2018-09-26 11:47:00,506   INFO    15   we found the two indices: [999, 1000]
2018-09-26 11:47:00,507   INFO    10   for 1000 list items, program took 0.0010077953338623047 seconds to compute
2018-09-26 11:47:00,509   INFO    15   we found the two indices: [1499, 1500]
2018-09-26 11:47:00,509   INFO    10   for 1500 list items, program took 0.001130819320678711 seconds to compute
2018-09-26 11:47:00,511   INFO    15   we found the two indices: [1999, 2000]
2018-09-26 11:47:00,511   INFO    10   for 2000 list items, program took 0.001065969467163086 seconds to compute
2018-09-26 11:47:00,513   INFO    15   we found the two indices: [2499, 2500]
2018-09-26 11:47:00,514   INFO    10   for 2500 list items, program took 0.0013301372528076172 seconds to compute
2018-09-26 11:47:00,515   INFO    15   we found the two indices: [2999, 3000]
2018-09-26 11:47:00,516   INFO    10   for 3000 list items, program took 0.001598358154296875 seconds to compute
2018-09-26 11:47:00,518   INFO    15   we found the two indices: [3499, 3500]
2018-09-26 11:47:00,519   INFO    10   for 3500 list items, program took 0.0017459392547607422 seconds to compute
2018-09-26 11:47:00,521   INFO    15   we found the two indices: [3999, 4000]
2018-09-26 11:47:00,522   INFO    10   for 4000 list items, program took 0.0019102096557617188 seconds to compute
2018-09-26 11:47:00,524   INFO    15   we found the two indices: [4499, 4500]
2018-09-26 11:47:00,525   INFO    10   for 4500 list items, program took 0.002174854278564453 seconds to compute
2018-09-26 11:47:00,528   INFO    15   we found the two indices: [4999, 5000]
2018-09-26 11:47:00,529   INFO    10   for 5000 list items, program took 0.0022859573364257812 seconds to compute
2018-09-26 11:47:00,532   INFO    15   we found the two indices: [5499, 5500]
2018-09-26 11:47:00,533   INFO    10   for 5500 list items, program took 0.002487659454345703 seconds to compute
2018-09-26 11:47:00,535   INFO    15   we found the two indices: [5999, 6000]
2018-09-26 11:47:00,536   INFO    10   for 6000 list items, program took 0.0021209716796875 seconds to compute
2018-09-26 11:47:00,538   INFO    15   we found the two indices: [6499, 6500]
2018-09-26 11:47:00,539   INFO    10   for 6500 list items, program took 0.0018630027770996094 seconds to compute
2018-09-26 11:47:00,542   INFO    15   we found the two indices: [6999, 7000]
2018-09-26 11:47:00,543   INFO    10   for 7000 list items, program took 0.0025861263275146484 seconds to compute
2018-09-26 11:47:00,546   INFO    15   we found the two indices: [7499, 7500]
2018-09-26 11:47:00,547   INFO    10   for 7500 list items, program took 0.002360820770263672 seconds to compute
2018-09-26 11:47:00,549   INFO    15   we found the two indices: [7999, 8000]
2018-09-26 11:47:00,550   INFO    10   for 8000 list items, program took 0.0024132728576660156 seconds to compute
2018-09-26 11:47:00,553   INFO    15   we found the two indices: [8999, 9000]
2018-09-26 11:47:00,554   INFO    10   for 9000 list items, program took 0.0025739669799804688 seconds to compute
</pre></div>


<p>Let's visualize the time complexity of this <code>two_sums_faster</code> functions.</p>
<div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">&#39;talk&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">length_list_items</span><span class="p">,</span> <span class="n">completion_times_faster_method</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Time Complexity of Two Sums (Faster Method)&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;worst case scenario count of list items&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;seconds to compute&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">tick</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="n">reformat_large_tick_values</span><span class="p">));</span>
</pre></div>


<p><img alt="png" src="two_sums_files/two_sums_61_0.png"></p>
<p>This line looks to have a consant positive slope, but it's nearly not as steep as our first brute force method. Let's compare the two on the same plot.</p>
<h3>Comparison of Time Complexity of Two Sums Functions on Same Plot</h3>
<div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">&#39;talk&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">length_list_items</span><span class="p">,</span> <span class="n">completion_times</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;brute force method&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">length_list_items</span><span class="p">,</span> <span class="n">completion_times_faster_method</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;faster method&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Time Complexity of Different Two Sums Functions&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;worst case scenario count of list items&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;seconds to compute&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">tick</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="n">reformat_large_tick_values</span><span class="p">));</span>
</pre></div>


<p><img alt="png" src="two_sums_files/two_sums_64_0.png"></p>
<p>This visualization tells a much clearer picture of the differences in our two functions to compute the solution.</p>
<p>Our first brute force method has O(n²) time complexity while our second faster method has just O(n) time complexity.</p>
<p>Our first brute force method has O(1) space complexity while our second faster method has O(n) space complexity.</p>
  </div>
</section>

  </div>
  
  <!-- start of footer section -->
  <footer class="footer">
    <div class="container">
      <p class="text-muted">
        <center>Thank you for reading my content! This project is available on <a href="https://github.com/frieds/frieds.github.io">GitHub</a>.
          <br/>
          Copyright &copy; Dan Friedman,
          <time datetime="2019">2019</time>.
        </center>
      </p>
    </div>
  </footer>

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
  crossorigin="anonymous"></script>

  <!-- This jQuery line finds any span that contains code highlighting classes and then selects the parent <pre> tag and adds a border and background. This is done as a workaround to visually distinguish the code inputs and outputs -->
  <script>
    $( ".hll, .n, .c, .err, .k, .o, .cm, .cp, .c1, .cs, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt, .kc, .kd, .kn, .kp, .kr, .kt, .m, .s, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .ow, .w, .mf, .mh, .mi, .mo, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss, .bp, .vc, .vg, .vi, .il" ).parent( "pre" ).css( "border", "1px solid #038f6d" );
    $( ".hll, .n, .c, .err, .k, .o, .cm, .cp, .c1, .cs, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt, .kc, .kd, .kn, .kp, .kr, .kt, .m, .s, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .ow, .w, .mf, .mh, .mi, .mo, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss, .bp, .vc, .vg, .vi, .il" ).parent( "pre" ).css( "background-color", "#d6eed9" );
  </script>

  <!-- Latest compiled and minified Bootstrap JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="https://dfrieds.com/theme/js/ie10-viewport-bug-workaround.js"></script>
  <!-- <script type="text/javascript">
    $(document).on('click', 'a[href^="#"]', function (event) {
      event.preventDefault();
      $('html, body').animate({
        scrollTop: $($.attr(this, 'href')).offset().top
      }, 500);
    });
  </script> -->

</body>

</html>