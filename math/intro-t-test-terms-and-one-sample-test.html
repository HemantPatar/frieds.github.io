<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-97459416-1"> 
  </script>

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-97459416-1');
  </script>

  <meta name="author" content="Dan Friedman">
  <meta name="geo.region" content="CA">
  <meta property="og:locale" content="en_us">
  <meta name="robot" content="all">
  <meta name="referrer" content="always">
  <meta property="fb:profile_id" content="1357771151">
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Dan Friedman's Data Science Knowledge Base">

  <meta property="og:see_also" content="https://twitter.com/_DanFriedman"/>
  <meta property="og:see_also" content="https://www.linkedin.com/in/danfriedman33/"/>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@_DanFriedman">
  <meta name="twitter:image" content="https://pbs.twimg.com/profile_images/950134514113691648/7dt7ECh2_400x400.jpg" />

  <meta name="keywords" content="one sample t-test python">

  <meta name="description" content="Learn about t-tests at a high level, the t-distribution, how to calculate t-critical values, degrees of freedom and an overview of the three types of tests. Example of one sample t-test. Lessons in Python and use statistical packages.">
  <meta property="og:description"  content="Learn about t-tests at a high level, the t-distribution, how to calculate t-critical values, degrees of freedom and an overview of the three types of tests. Example of one sample t-test. Lessons in Python and use statistical packages.">
  <meta name="twitter:description" content="Learn about t-tests at a high level, the t-distribution, how to calculate t-critical values, degrees of freedom and an overview of the three types of tests. Example of one sample t-test. Lessons in Python and use statistical packages.">

  <meta property="og:title" content="T-Tests: Intro to Key Terms & One Sample t-test">
  <meta name="twitter:title" content="T-Tests: Intro to Key Terms & One Sample t-test">

  <link rel="canonical" href="https://dfrieds.com/math/intro-t-test-terms-and-one-sample-test"/>

  <title>T-Tests: Intro to Key Terms & One Sample t-test - Math</title>

  

  <!-- Latest compiled and minified Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/ie10-viewport-bug-workaround.css" />
  
  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/style.css" />
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/notebooks.css" />
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800,900" rel="stylesheet">


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <link href="https://dfrieds.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Full Atom Feed" />    <link href="https://dfrieds.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Full RSS Feed" />      <link href="https://dfrieds.com/feeds/math.atom.xml" type="application/atom+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Categories Atom Feed" />    <link href="https://dfrieds.com/feeds/math.rss.xml" type="application/rss+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Categories RSS Feed" />    

  <!-- Start of Async Drift Code -->
  <script>
    !function() {
      var t;
      if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0, 
        t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
        t.factory = function(e) {
          return function() {
            var n;
            return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
          };
        }, t.methods.forEach(function(e) {
          t[e] = t.factory(e);
        }), t.load = function(t) {
          var e, n, o, i;
          e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"), 
          o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js", 
          n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
        });
      }();
    drift.SNIPPET_VERSION = '0.3.1';
    drift.load('83xk3ceba36c');
  </script>
  <!-- End of Async Drift Code -->


</head>

<body>
  <div class="math"></div>

  <nav class="navbar navbar-expand-sm fixed-top">
    <div class="container">
      <a class="navbar-brand" href="https://dfrieds.com/">Dan<span class="green">_</span>Friedman</a>
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggle-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="nav navbar-nav mr-auto">
        </ul>
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="https://dfrieds.com/#articles">Articles
              </a>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tutorials
              </a>
              
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="https://dfrieds.com/#math">Math</a>
                <a class="dropdown-item" href="https://dfrieds.com/#data-analysis">Data Analysis with pandas</a>
                <a class="dropdown-item" href="https://dfrieds.com/#dataviz">Data Visualizations</a>
                <a class="dropdown-item" href="https://dfrieds.com/#python">Python</a>
                <a class="dropdown-item" href="https://dfrieds.com/#ml">Machine Learning</a>
              </div>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="https://twitter.com/_DanFriedman" target="blank">Twitter</a>
                <a class="dropdown-item" href="https://github.com/frieds" target="blank">GitHub</a>
                <a class="dropdown-item" href="https://linkedin.com/in/danfriedman33" target="blank">LinkedIn</a>
              </div>
            </li>
          </ul>
      </div>
    </div>
  </nav>


  <!-- end of header section -->
  <div class="container">

<section id="content" class="body">
  <header>
    <div class="posttype"> Math Inferential Statistics Article</div>
    <h1 class="articleh1">
      T-Tests: Intro to Key Terms & One Sample t-test
    </h1>

    <ul class ="row article_info">
      
      <li>
        Feb 20&nbsp;&nbsp;&bull;&nbsp;&nbsp;32 min read
      </li>
      <li class="tagarticle">
        Key Terms:         t-tests,
        python,
        scipy,
        numpy
      </li>
    </ul>
  </header>

  <div class='article_content'>
    <p>A <strong>t-test</strong> is a type of statistical hypothesis test. This type of test can determine if 1) a sample mean is <em>significantly</em> different from a known population mean or 2) a sample mean is <em>significantly</em> different from another sample mean. Typically, we associate t-tests with the latter. This post will walk through a detailed example of just 1).</p>
<p>In order to fully grasp the concepts in this post, it'll help to have familiarity with the following concepts: z-tests, hypothesis testing, p-values, normal distribution, standard deviation, standard error and the central limit theorem.</p>
<p>There are three distinct types of t-tests: one sample t-tests, dependent sample t-tests and independent sample t-tests. Each type of test involves a comparison of <em>two</em> groups. </p>
<p>Hypothesis tests for comparing <em>multiple</em> groups are called <a href='https://en.wikipedia.org/wiki/Analysis_of_variance'>analysis of variance</a> (ANOVA) and will be covered in another post.</p>
<p>Each of the three types of tests involve the same variable tested in the two groups. For example, a t-test can compare scores on the <em>same</em> final exam for one teacher's students and another teacher's students. However, if one teacher provides an exam with different questions than another teacher, a simple hypothesis test can't adequately compare the students' performance against the other class because there are <strong>lurking variables</strong>. These are variables that are not explained in the single score of student's performance but would affect the interpretation of the t-tests results. Some examples of lurking variables are difficulty of questions, number of questions on the exam and time allotted to complete the exam.</p>
<h3>Comparison: z-tests vs. t-tests</h3>
<p>Both z-tests and t-tests are statistical hypothesis tests.</p>
<table>
<thead>
<tr>
<th>Comparison field</th>
<th>z-test</th>
<th>t-test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose</td>
<td>compares if the means of two datasets are <em>significantly</em> different from each other when population variance is known</td>
<td>compares if the means of two sets of data are <em>significantly</em> different when population variance is unknown</td>
</tr>
<tr>
<td>distribution used</td>
<td>normal</td>
<td>student's t</td>
</tr>
<tr>
<td>population variance</td>
<td>known</td>
<td>unknown</td>
</tr>
<tr>
<td>sample size</td>
<td>large (<span class="math">\(n&gt;30\)</span>)</td>
<td>small (<span class="math">\(n&lt;30\)</span>)</td>
</tr>
</tbody>
</table>
<h3>Overview of Three Types of t-tests</h3>
<table>
<thead>
<tr>
<th>type of test</th>
<th>group 1</th>
<th>group 2</th>
<th>purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>one sample t-test</td>
<td>population</td>
<td>sample</td>
<td>tests whether the mean of a population is <em>significantly</em> different than a sample mean</td>
</tr>
<tr>
<td>dependent sample t-test</td>
<td>sample</td>
<td>sample</td>
<td>tests whether the difference in means of two depenendent samples is <em>significantly</em> different</td>
</tr>
<tr>
<td>independent sample t-test</td>
<td>sample</td>
<td>sample</td>
<td>tests whether the difference in means of two independent samples is <em>significantly</em> different</td>
</tr>
</tbody>
</table>
<p>Each of these tests is considered a <a href='https://en.wikipedia.org/wiki/Parametric_statistics'><em>parametric test</em></a> because they assume that data comes from a population that meets specific probability distribution standards. These data requirements will be discussed individually for each test in separate posts.</p>
<h3>One Sample t-test Descriptive Example</h3>
<p>There's an academy that teaches students new to music how to play the guitar in just three months. At the end of the three months, students are assessed on their performance of the song <em>Ziggy Stardust</em>. For their performance, a proctor counts the number of errors performed by each student. There have been hundreds of instructors at this academy over the year and they all utilized the same methods for teaching. However, last year a new teacher, Mr. Brown, utilized a new method to teach a random group of 28 students in that 3 month period.</p>
<p>Each year, the academy updates their mean value for the number of errors on student's final performance. However, they don't record all the individual historical student scores for privacy purposes. Therefore, the population variance is unknown. </p>
<p>A calculation was also made for the mean number of errors by Mr. Brown's students. Does Mr. Brown's teaching <em>significantly</em> decrease the number of errors in student's performance compared to the population of students taught at the academy?</p>
<p><span class="math">\(H_{o}: \mu_{\textrm{Mr. Brown}}&gt;=\mu_{academy}\)</span></p>
<p><span class="math">\(H_{a}: \mu_{\textrm{Mr. Brown}}&lt;\mu_{academy}\)</span></p>
<p>In the hypotheses above, I use the symbol of <span class="math">\(\mu\)</span> (a population mean) instead of <span class="math">\(\bar{x}\)</span> (a sample mean) for Mr. Brown's students. This may seem confusing since we just have a sample of Mr. Brown's students. </p>
<p>These hypotheses are not about the <em>exact</em> provided data. Rather, they're inferences about the <em>expected</em> population means from which the sample comes from compared to the known population mean. A proper t-test analysis performs calculations to help <em>infer</em> what the <em>expected</em> population mean (that contains the sample) given just a sample mean. This description is part of the field of <strong>inferential statistics</strong>: use of a random sample of data taken from a population to describe and make inferences about the population. These inferences are important because they help to explain what <em>would likely</em> happen if we had access to a sufficiently large population of Mr. Brown's students. </p>
<p>In a one sample t-test like this, you could perform it if Mr. Brown taught at the academy or outside of the academy. However, there's other factors to consider in proper experiment design to ensure the results have merit. For this example, I used the more logical t-test design and included Mr. Brown as one of the many teachers at the academy.</p>
<h3>Dependent Sample t-test Descriptive Example</h3>
<p>A sample of 19 people were told to lie in bed ready to fall asleep at 10pm every night and would be woken up by an alarm at 6:30am for 15 days in a row. In that period, they tried to sleep as much as possible. With each night's sleep, sensors and a computer helped record a measurement of that person's total hours slept. This same test was later performed for the same group of people under the same circumstances, but with one difference: each night a person took a sleeping pill at 9:30pm. </p>
<p>After all the data was collected, I calculated the mean number of hours slept for people without using the pill and with using the pill. Does the sleeping pill help <em>significantly</em> increase the average hours slept for the group than without the pill? </p>
<p><span class="math">\(H_{o}:\mu_{pill}&gt;= \mu_{\textrm{no pill}}\)</span></p>
<p><span class="math">\(H_{a}:\mu_{pill}&gt;\mu_{\textrm{no pill}}\)</span></p>
<p>This is considered a pretest posttest type of t-test for dependent samples. The samples are considered <em>dependent</em> on one another because the <em>same</em> people who took the sleep test without the pills later took the test again with sleeping pills. </p>
<p>Typically, in a dependent t-test example such as this, the exact populations data with individual observations is unknown or one is unable to access the population data.</p>
<h3>Independent Sample t-test Descriptive Example</h3>
<p>There was a sample of 20 professional basketball players in 1940 that attempted to jump as high as they could and measurements were taken on their reach by the top of their hand. The same test was performed on a sample of 20 professional basketball players in 2019. After all this data was collected, I calculated the mean height in inches reached by the sample of players in 1940 and 2019. Do professional basketball players in 2019 jump <em>significantly</em> higher on average than basketball players in 1940?</p>
<p>Similar to the example with dependent t-tests above, these hypotheses are an <em>inference</em> on the <em>expected</em> true population means from which each sample comes from.</p>
<p><span class="math">\(H_{o}\)</span>: <span class="math">\(\mu_{2019}&lt;=\mu_{1940}\)</span></p>
<p><span class="math">\(H_{a}\)</span>: <span class="math">\(\mu_{2019}&gt;\mu_{1940}\)</span></p>
<h3>Setup Code</h3>
<h4>Import Modules</h4>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">t</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="kn">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="o">%</span> <span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>


<h4>Set Visualization Style</h4>
<div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">&#39;talk&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>
</pre></div>


<h3>Steps to Perform One Sample t-test</h3>
<p>1) Setup the experiment to record measurements from a sample.</p>
<p>2) Set an alpha level for the test, a null hypothesis and alternative hypothesis.</p>
<p>3) Compute the sample mean, sample size and sample standard deviation.
    - These calculations will be used later in steps 6 and 7.</p>
<p>4) Obtain the population mean for the same variable measured. </p>
<p>5) Calculate the t-critical value.</p>
<p>6) Determine if the data meets the proper requirements to perform a one-sample t-test.</p>
<p>7) Calculate the t-statistic.</p>
<p>8) Compare the t-statistic to the t-critical value. Interpret results of the experiment based on the original hypotheses.</p>
<h3>1) Setup Experiment</h3>
<p>I'll continue with the descriptive example for the one-sample t-test mentioned above. The setup was designed so the count of errors for all student's performances of <em>Ziggy Stardust</em> by Mr. Brown's students were recorded.</p>
<p>Assign a python list of errors of students in the sample to the variable <code>sample_student_errors</code>.</p>
<div class="highlight"><pre><span></span><span class="n">sample_student_errors</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>


<h3>2) Set an Alpha Level and Original Hypotheses</h3>
<p>The alpha level for this experiment will be <span class="math">\(0.05\)</span>.</p>
<div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
</pre></div>


<p>Does Mr. Brown's teaching <em>significantly</em> decrease the number of errors in student's performance compared to the population of students taught at the academy?</p>
<p><span class="math">\(H_{o}: \mu_{\textrm{Mr. Brown}}&gt;=\mu_{academy}\)</span></p>
<p><span class="math">\(H_{a}: \mu_{\textrm{Mr. Brown}}&lt;\mu_{academy}\)</span></p>
<p>This is a one-sided negative direction t-test.</p>
<h3>3) Compute the Sample Mean, Sample Size and Sample Standard Deviation</h3>
<p>Assign the variable <code>n</code> to be the size of the sample.</p>
<div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sample_student_errors</span><span class="p">)</span>
<span class="n">n</span>
</pre></div>


<div class="highlight"><pre><span></span>28
</pre></div>


<p>Assign the variable <code>sample_mean</code> to be the mean of the sample.</p>
<div class="highlight"><pre><span></span><span class="n">sample_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sample_student_errors</span><span class="p">)</span>
<span class="n">sample_mean</span>
</pre></div>


<div class="highlight"><pre><span></span>5.035714285714286
</pre></div>


<p>Assign the variable <code>sample_std_dev</code> to be the standard deviation of the sample.</p>
<div class="highlight"><pre><span></span><span class="n">sample_std_dev</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">sample_student_errors</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sample_std_dev</span>
</pre></div>


<div class="highlight"><pre><span></span>1.815206199023556
</pre></div>


<h3>4) Obtain the Population Mean</h3>
<p>I use the <code>Numpy</code> package <code>normal()</code> method in the <code>random</code> class to create a Python list of floats to represent errors of students for the population. Assign this list to the variable <code>population_student_errors</code> since these are the values for the count of errors each student made performing <em>Ziggy Stardust</em>.</p>
<p>I cast all the float values to integer errors since teachers only count singular errors.</p>
<div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># sets the random number generator to return the same results each time</span>
<span class="n">population_student_errors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">7.1</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mi">1300</span><span class="p">))</span>
<span class="n">population_student_errors</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">population_student_errors</span><span class="p">]</span>
</pre></div>


<p>Assign the variable <code>population_mean_errors</code> to the mean of <code>population_student_errors</code>. It's ok if Mr. Brown's recent sample of students are utilized in this population.</p>
<div class="highlight"><pre><span></span><span class="n">population_mean_errors</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">population_student_errors</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">population_mean_errors</span>
</pre></div>


<div class="highlight"><pre><span></span>6.56
</pre></div>


<h3>5) Calculate the t-critical Value</h3>
<p>Also, similar to the calculation of z-critical values for z-tests, a t-test requires calculation of a t-critical value which just uses the initial alpha level and <span class="math">\(n\)</span> - the sample size.</p>
<p>The t-critical value provides a threshold of <em>statistical</em> unlikeliness on the t-distribution. The <strong>t-distribution</strong> is a probability distribution used to estimate population parameters in analysis for t-tests. </p>
<p>The math and logic used to infer the t-distribution is long and complex. For now, I'll cover some basics of the t-distribution and chug forward with this t-test analysis.</p>
<h4>Visualization of z-distribution and t-distribution</h4>
<p>This visualization is based on certain parameters such as the size of samples and/or population. They won't always appear in the exact shapes below but I still think the comparisons are a good <em>general</em> point of reference.</p>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="n">z_distribution</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">6000</span><span class="p">)</span>
<span class="n">t_distribution</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">standard_t</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">6000</span><span class="p">)</span> <span class="c1"># not a normal distribution</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">z_distribution</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;z-distribution&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">t_distribution</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;t-distribution&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;frequency of occurence&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;t-statistic or z-score&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribution of z-distribution and t-distribution&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-.</span><span class="mo">01</span><span class="p">,</span> <span class="o">.</span><span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>


<p><img alt="png" src="intro_t_tests_and_one_sample_files/intro_t_tests_and_one_sample_42_0.png"></p>
<p>The t-distribution has the following characteristics:</p>
<ul>
<li>mean = 0 </li>
<li>fairly symmetrical</li>
<li>typically not exactly normal given small <span class="math">\(n\)</span> values; a very high <span class="math">\(n\)</span> value will lead to a closer to normal distribution</li>
<li>as <span class="math">\(n\)</span> increases, the sample standard deviation <span class="math">\(s\)</span> approaches the value of the population standard deviation <span class="math">\(\sigma\)</span></li>
<li><span class="math">\(variance = v/(v-2)\)</span> in which <span class="math">\(v\)</span> is the degrees of freedom and <span class="math">\(v&gt;2\)</span> (degrees of freedom explained below)</li>
</ul>
<p>T-test errors are more prone to errors in results than a z-test. The reason for this is that compared to the z-distribution, the t-distribution has larger variance. Visually we see a wider curve and thicker tails.</p>
<h4>Calculate degrees of freedom</h4>
<p>We utilize <strong>degrees of freedom</strong> in t-test calculations. Degrees of freedom is simply the freedom to vary. We have 28 students in Mr. Brown's class. If I hypothetically picked out grades for 27 of the students, you must pick out the <em>one</em> remaining student's grade. For any 28 student scores I pick, you have <span class="math">\(28-1 = 27\)</span> student's grades to choose from. In variable terms, this means if you have <span class="math">\(n\)</span> numbers to choose from, you have <span class="math">\(n-1\)</span> degrees of freedom.</p>
<p>In statistics, the calculation for degrees of freedom is the count of observations in the sample that are free to vary when estimating statistical parameters.</p>
<p>The t-distribution is defined by the degrees of freedom value and the alpha level.</p>
<p>Let's assign the variable <code>degrees_of_freedom</code> to be the degrees of freedom for students in Mr. Brown's class.</p>
<div class="highlight"><pre><span></span><span class="n">degrees_of_freedom</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span>
<span class="n">degrees_of_freedom</span>
</pre></div>


<div class="highlight"><pre><span></span>27
</pre></div>


<h4>Calculate t-critical value</h4>
<p>Similarities of a t-critical value to a z-score:</p>
<ul>
<li>identifies a boundary for a critical region of its respective distribution (for a t-test, the t-distribution)</li>
<li>for a one-tailed test, there's <em>either</em> a positive or negative critical value with one tail probability</li>
<li>for a two-tailed test, there's a positive <em>and</em> negative critical value with their respective tail probabilities</li>
</ul>
<p>For a t-test, we utilize knowledge of the alpha level, direction of the test and degrees of freedom.</p>
<p>I'm familiar with two ways to calculate the t-critical value. One way is using a table and another is done programatically using Python. I prefer the latter.</p>
<p><a href='https://udacity.com'>Udacity</a> hosts a table to identify t-critical values at <a href='https://s3.amazonaws.com/udacity-hosted-downloads/t-table.jpg'>this page</a>. The values inside the table represent the t-critical values. Each row shows these t-critical values for a degrees of freedom (df) value. The columns are labeled for a right tail probability. This table can be used for one-tail and two-tail tests.</p>
<p>In Python, as part of the <code>Scipy</code> package and <code>t</code> class, there's a method called <code>ppf()</code> that returns the t-critical value. The arguments of the method are:</p>
<ul>
<li><code>q</code> for the area under the curve of the t-distribution to the left of the t-critical value</li>
<li><code>df</code> for the degrees of freedom (equivalent to <span class="math">\(n-1\)</span> for a one sample t-test)</li>
</ul>
<p>Below is the calculation for our guitar example in which we know the <code>alpha</code> value of <span class="math">\(0.05\)</span> is the area under the t-distribution to the left of the t-critical value. We want to assign <code>alpha</code> to <code>q</code> becuase this is a one-sided negative direction test.</p>
<div class="highlight"><pre><span></span><span class="n">t_critical_value</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">degrees_of_freedom</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">t_critical_value</span>
</pre></div>


<div class="highlight"><pre><span></span>-1.703
</pre></div>


<p>The t-critical value should be negative because this is a one-sided negative direction t-test.</p>
<h3>6) Determine if Data Meets Requirements for One Sample t-test</h3>
<h4>One Sample t-tests Data Requirements</h4>
<ul>
<li>
<p>Each of the groups, the sample and population, have the <em>same</em> variable that is continous.</p>
</li>
<li>
<p>Population and sample each have an approximate normal distribution.</p>
<ul>
<li>Non-normal distributions, especially those with large variance and/or skewness heavily reduce the power of the results of the t-test.</li>
</ul>
</li>
<li>
<p>The sample should be randomly selected from a population.</p>
</li>
<li>
<p>Assume sample data is representative of the whole population and can therefore estimate population parameters.</p>
</li>
<li>
<p>Approximately equal variances of the population and sample.</p>
</li>
</ul>
<h4>Evaluate Data Requirements for Guitar Example</h4>
<p>In this example, I'll assume we don't have access to each of the scores for the whole population of students. The population variance is also unknown.</p>
<p>Two requirements we can test with the data part of 1) sample has an approximate normal population and sample each have an approximate normal distribution.</p>
<p>Let's examine the distribution of the values in the sample with a histogram. I use the <code>Matplotlib</code> <code>hist()</code> <a href='https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist.html'>method</a>. </p>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">sample_student_errors</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribution of Errors of Students Taught by Private Instructor&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;count of errors&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;count of occurences&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">);</span>
</pre></div>


<p><img alt="png" src="intro_t_tests_and_one_sample_files/intro_t_tests_and_one_sample_56_0.png"></p>
<p>This distribution looks symmetrical, has no notable skew, and is centered around a central value.</p>
<div class="highlight"><pre><span></span><span class="n">sample_median_errors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">sample_student_errors</span><span class="p">)</span>
<span class="n">sample_mean_errors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sample_student_errors</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Sample mean of {0} and median of {1}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sample_mean_errors</span><span class="p">,</span> <span class="n">sample_median_errors</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span>Sample mean of 5.035714285714286 and median of 5.0
</pre></div>


<p>Above is the code that shows the sample mean and median are nearly the exact same too. Therefore, it's fairly safe to say that the sample has a normal distribution too.</p>
<h3>Calculate the t-statistic</h3>
<p>Similar to z-tests in the calculation of a z-score, a t-test requires calculation of a t-statistic. A one-sample t-test helps determine if the mean of a population is <em>significantly</em> different than a sample mean. Both the sample and population have the same variable measurement. Remember, in a one-sample t-test, we don't know the population standard deviation so we cannot use that in the following calculation. The equation for the t-statistic for a one-sample t-test is:</p>
<div class="math">$$t=\frac{\bar{x}-\mu}{\frac{s}{\sqrt{n}}}$$</div>
<ul>
<li><span class="math">\(\bar{x}\)</span> is sample mean and is a point estimate</li>
<li><span class="math">\(\mu\)</span> is our <em>known</em> current population mean</li>
<li><span class="math">\(s\)</span> is the sample standard deviation (remember to use bessel's correction with <span class="math">\(n-1\)</span> in the denominator)</li>
<li><span class="math">\(n\)</span> is the sample size</li>
<li><span class="math">\(\frac{s}{\sqrt{n}}\)</span> is our expected standard deviation from a sampling distribution of means (term also called <a href='https://en.wikipedia.org/wiki/Standard_error'>standard error of the means</a>)</li>
</ul>
<p>The t-statistic tells us how far our sample mean lies from the population mean in terms of standard error units on a sampling distribution of sample means. This sampling distribution comes from taking a sufficiently large number of size <span class="math">\(n\)</span> samples from the population data. On the sampling distribution, both <span class="math">\(\bar{x}\)</span> and <span class="math">\(\mu\)</span> are on the same "scale" of <span class="math">\(n\)</span> so it's OK to compare them. An anology that makes sense to me for this t-statistic is compared the quality of two apples of the <em>same size</em> from two different farms. This is an <em>easy</em> comparison because we're <em>just</em> comparing the quality. If we simply just looked at the difference between <span class="math">\(\bar{x}\)</span> and <span class="math">\(\mu\)</span> that would be comparing the quality of two apples of <em>different sizes</em> and <em>different qualities</em> from two different farms - a tough comparison to make sense of because we can't simply isolate <em>just</em> the quality in a bite of each. </p>
<p>The t-statstic equation above has a numerator and denominator that can each be made sense of.</p>
<p>Remember the t-critical value is <span class="math">\(-1.703\)</span>. The <em>smaller</em> the t-statistic, the more evidence we obtain to reject the null hypothesis and conclude Mr. Brown's students have <em>significantly fewer</em> errors than the general population.</p>
<p>The numerator measures the "strength" of the signal: the difference between the sample mean and population mean. In the guitar example, if Mr. Brown's students have far <em>fewer</em> errors than the general population, we'd expect a <em>smaller</em> numerator value and therefore more "strength". The difference:</p>
<div class="highlight"><pre><span></span><span class="n">numerator</span> <span class="o">=</span> <span class="n">sample_mean</span><span class="o">-</span><span class="n">population_mean_errors</span>
<span class="n">numerator</span>
</pre></div>


<div class="highlight"><pre><span></span>-1.524285714285714
</pre></div>


<p>This value of <span class="math">\(-1.52\)</span> seems to indicate Mr. Brown's students do perform with fewer errors on average than the general population.</p>
<p>The denominator measures the variation or "noise" in the sample data. If hypothetically the errors of all <span class="math">\(4\)</span> students in Mr. Brown's class were <span class="math">\(1\)</span>, <span class="math">\(5\)</span>, <span class="math">\(9\)</span>, and <span class="math">\(18\)</span> - that would be a lot of variation. This would equate so a high <span class="math">\(s\)</span> value. If hypothetically the errors of all <span class="math">\(4\)</span> students in Mr. Brown's class were <span class="math">\(1\)</span>, <span class="math">\(2\)</span>, <span class="math">\(3\)</span>, and <span class="math">\(5\)</span> - that would be <em>less</em> variation and result in a small <span class="math">\(s\)</span> value. </p>
<p>The amount of variation (value in the denominator) is "noisier" (a larger value) - for a smaller <span class="math">\(n\)</span> value. The demominator is also called the standard error.</p>
<div class="highlight"><pre><span></span><span class="n">standard_error</span> <span class="o">=</span> <span class="n">sample_std_dev</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">standard_error</span>
</pre></div>


<div class="highlight"><pre><span></span>0.34304172720851034
</pre></div>


<div class="highlight"><pre><span></span><span class="n">t_statistic</span> <span class="o">=</span> <span class="n">numerator</span><span class="o">/</span><span class="n">standard_error</span>
<span class="n">t_statistic</span>
</pre></div>


<div class="highlight"><pre><span></span>-4.443441113387383
</pre></div>


<p>In the Python Scipy package, there's a <a href='https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_1samp.html'>method</a> called <code>ttest_1samp()</code> that calculates the t-statistic and p-value for a one sample <em>two-sided</em> t-test. However, the guitar errors example is a <em>one-sided</em> negative direction test. Let's use the returned p-value from this method and multiply it by <span class="math">\(2\)</span> to get the p-value for a one-sided test.</p>
<div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_1samp</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">sample_student_errors</span><span class="p">,</span> <span class="n">popmean</span><span class="o">=</span><span class="n">population_mean_errors</span><span class="p">)</span>
<span class="n">results</span>
</pre></div>


<div class="highlight"><pre><span></span>Ttest_1sampResult(statistic=-4.443441113387382, pvalue=0.00013578924891219084)
</pre></div>


<div class="highlight"><pre><span></span><span class="n">two_sided_p_value</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">one_sided_p_value</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">two_sided_p_value</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">one_sided_p_value</span>
</pre></div>


<div class="highlight"><pre><span></span>0.00027
</pre></div>


<p>This returned t-statistic from the manual calculation above is the same value returned from use of the <code>ttest_1samp</code> method.</p>
<h4>Visualization of the t-distribution and a t-statistic</h4>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">t_distribution_df_28</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">standard_t</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">3000</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">t_distribution_df_28</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;t-distribution of $n=28$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">t_statistic</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkslateblue&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;t-statistic of $-4.44$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;t-values&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;frequency of occurence&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;t-distribution and location of t-statistic&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-.</span><span class="mo">01</span><span class="p">,</span> <span class="o">.</span><span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>


<p><img alt="png" src="intro_t_tests_and_one_sample_files/intro_t_tests_and_one_sample_72_0.png"></p>
<h3>8) Interpret Results of Experiment</h3>
<h4>Conditions for Rejecting the Null Hypothesis</h4>
<p>Similar to z-tests, with each t-test hypothesis, we want to determine if there is sufficient evidence to reject the null hypothesis. Below are details of hypothesis tests and means for evaluating one-sample t-tests.</p>
<table>
<thead>
<tr>
<th>null hypothesis</th>
<th>alternative hypothesis</th>
<th>alternative hypothesis interpretation</th>
<th>number of tails on t-distribution</th>
<th>tail(s) of t-distribution to reject the null</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math">\(\bar{x}&gt;=\mu\)</span></td>
<td><span class="math">\(\bar{x}&lt;\mu\)</span></td>
<td>the sample mean is less than the population mean</td>
<td>one</td>
<td>left</td>
</tr>
<tr>
<td><span class="math">\(\bar{x}&lt;=\mu\)</span></td>
<td><span class="math">\(\bar{x}&gt;\mu\)</span></td>
<td>the sample mean is greater than the population mean</td>
<td>one</td>
<td>right</td>
</tr>
<tr>
<td><span class="math">\(\bar{x}=\mu\)</span></td>
<td><span class="math">\(\bar{x}\neq\mu\)</span></td>
<td>no prediction on a direction for the difference between the sample mean and population mean</td>
<td>two</td>
<td>left or right</td>
</tr>
</tbody>
</table>
<p>Here's what it means to reject the null hypothesis:</p>
<ul>
<li>The t-statistic falls within the t-critical region (bounded by the t-critical value)<ul>
<li>For a one-tailed test in the positive direction, the t-statistic is greater than the t-critical value</li>
<li>For a one-tailed test in the negative direction, the t-statistic is less than the t-critical value</li>
<li>For a two-tailed test, the t-statistic is greater than the positive t-critical value <em>or</em> the t-statistic is less than the negative t-critical value</li>
</ul>
</li>
<li>The probability of obtaining the estimated population parameter due to random chance (the p-value) is less than the alpha level</li>
</ul>
<h4>Final Conclusion for Guitar Example</h4>
<p>Given the table above, our guitar example is similar to the first row.</p>
<p>Ths t-statistic of <span class="math">\(-4.44\)</span> is less than the t-critical value of <span class="math">\(-1.703\)</span></p>
<p>Also, the p-value of <span class="math">\(0.00027\)</span> is less than the initial alpha level of <span class="math">\(0.05\)</span>. This p-value tells us the probability of getting this t-statistic if the null hypothesis is true.</p>
<p>Therefore, there is sufficient evidence to reject the null hypothesis. Mr. Brown's students have <em>significantly</em> fewer errors in playing <em>Ziggy Stardust</em> than the general population of students who learned at the academy.</p>
<h3>Calculate a 95% Confidence Interval</h3>
<p>This step is not <em>needed</em> for a t-test, but it offers additioanl valuable insights to our interpretation of the results.</p>
<p>A confidence interval provides a range of values in which there's a specified probability that the expected true population mean lies.</p>
<p>We performed a t-test with a sample of students from Mr. Brown and would like to <em>estimate</em> the population parameters for all students that would go through the same process of instruction by Mr. Brown.</p>
<p>Essentially, if the private teacher were to continually teach groups of 25 beginner students under the same circumstances as in the initial context, we'd expect 95% of those sample means to lie within what range? </p>
<p>We can express the formula for the confidence interval for the expected population of mean errors by students for their performance of <em>Ziggy Stardust</em> after instruction by Mr. Brown as:</p>
<div class="math">$$(\bar{x}_{\textrm{Mr. Brown}}+\textrm{t-critical value}*SE,\:\bar{x}_{\textrm{Mr. Brown}}-\textrm{t-critical value}*SE)$$</div>
<p><span class="math">\(\textrm{t-critical value}*SE\)</span> is the <strong>margin of error</strong> and is 1/2 the width of our confidence interval. The margin of error is the number of standard errors away from the mean. </p>
<p>Previously, we wanted a tail probability in the t-distribution of 0.05 but since we now want a 95% confidence interval, we'd like 0.025 probability in the tails. Therefore, we need a new t-critical value.</p>
<div class="highlight"><pre><span></span><span class="c1"># retrieve value &lt;= probability</span>
<span class="n">tail_probability</span> <span class="o">=</span> <span class="mf">0.025</span>
<span class="n">t_critical_value_for_95_CI</span> <span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="n">tail_probability</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">degrees_of_freedom</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;t-critical value is {0} for tail probability of {1} and degrees of freedom of {2}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t_critical_value_for_95_CI</span><span class="p">,</span> <span class="n">tail_probability</span><span class="p">,</span> <span class="n">degrees_of_freedom</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span>t-critical value is -2.05 for tail probability of 0.025 and degrees of freedom of 27
</pre></div>


<p>Let's calculate the 95% confidence interval using the equation above.</p>
<div class="highlight"><pre><span></span><span class="n">mean_lower_95_CI_bound</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">sample_mean</span> <span class="o">+</span> <span class="n">t_critical_value_for_95_CI</span><span class="o">*</span><span class="n">standard_error</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">mean_upper_95_CI_bound</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">sample_mean</span> <span class="o">-</span> <span class="n">t_critical_value_for_95_CI</span><span class="o">*</span><span class="n">standard_error</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;95% CI: ({0}, {1})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mean_lower_95_CI_bound</span><span class="p">,</span> <span class="n">mean_upper_95_CI_bound</span><span class="p">))</span>
</pre></div>


<div class="highlight"><pre><span></span>95% CI: (4.332, 5.739)
</pre></div>


<p>Let's visualize the bounds of the 95% confidence interval and indicate the two distributions at each bound.</p>
<div class="highlight"><pre><span></span><span class="n">sampling_distribution_theoretical_values_lower</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">mean_lower_95_CI_bound</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">standard_error</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="n">sampling_distribution_theoretical_values_upper</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">mean_upper_95_CI_bound</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">standard_error</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">sampling_distribution_theoretical_values_lower</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">sampling_distribution_theoretical_values_upper</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="n">mean_lower_95_CI_bound</span><span class="p">,</span> <span class="n">mean_upper_95_CI_bound</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;lightsteelblue&#39;</span><span class="p">)</span>
<span class="n">bbox_props</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;round&quot;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s2">&quot;0.2&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">sample_mean</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="s2">&quot;Shaded area represents range</span><span class="se">\n</span><span class="s2">of expected population</span><span class="se">\n</span><span class="s2">mean ($\mu_{Brown}$) - equivalent</span><span class="se">\n</span><span class="s2">to interval estimate of 95% CI&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> 
         <span class="n">va</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox_props</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">sample_mean</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;sample mean private instruction (point estimate)&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">mean_lower_95_CI_bound</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;lower 95% CI bound&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">mean_upper_95_CI_bound</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;upper 95% CI bound&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;average errors&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;probability of occurence&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;95% CI for Bounds of Population for Errors of Students Playing Song Taught by Private Instructor&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">);</span>
</pre></div>


<p><img alt="png" src="intro_t_tests_and_one_sample_files/intro_t_tests_and_one_sample_85_0.png"></p>
<h3>Visualization of Change in t-critical Value with Change in Degrees of Freedom</h3>
<p>For an alpha level, as the degrees of freedom increases past <span class="math">\(22\)</span>, there is little change in the corresponding t-critical value.</p>
<p>Thus, if I wanted to run a one sample t-test, I would likely just get a sample of roughly size <span class="math">\(23\)</span> which equates to a degree of freedom of <span class="math">\(22\)</span>. I'd only opt to retrive a larger sample if retrieving that data was easy. </p>
<p>Below is a visualization that shows the change in t-critical value as the sample size increases for a one sample t-test in the positive direction with an alpha level of <span class="math">\(0.05\)</span>. </p>
<div class="highlight"><pre><span></span><span class="n">t_critical_values</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">degree_of_freedom_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="k">for</span> <span class="n">df_value</span> <span class="ow">in</span> <span class="n">degree_of_freedom_values</span><span class="p">:</span>
    <span class="n">t_critical_value</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="n">df_value</span><span class="p">)</span>
    <span class="n">t_critical_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t_critical_value</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">degree_of_freedom_values</span><span class="p">,</span> <span class="n">t_critical_values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;df = 22&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkslategray&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.85</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> 
         <span class="n">s</span><span class="o">=</span><span class="s2">&quot;Minimal change in t-critical values</span><span class="se">\n</span><span class="s2">with increasing degrees of freedom for df&gt;22&quot;</span><span class="p">,</span> 
         <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;whitesmoke&#39;</span><span class="p">,</span> <span class="n">boxstyle</span><span class="o">=</span><span class="s2">&quot;round, pad=0.25&quot;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;degrees of freedom [df]&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;t-critical value&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Change in T-Critical Values with Change in Sample Size for Alpha Level $0.05$&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.01</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">21</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">);</span>
</pre></div>


<p><img alt="png" src="intro_t_tests_and_one_sample_files/intro_t_tests_and_one_sample_89_0.png"></p>
<p>The t-critical value barely decreases with increasing degrees of freedom past <span class="math">\(22\)</span>.</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "left",
        indent = "1em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
</section>

  </div>
  
  <!-- start of footer section -->
  <footer class="footer">
    <div class="container">
      <p class="text-muted">
        <center>Thank you for reading my content! This project is available on <a href="https://github.com/frieds/frieds.github.io">GitHub</a>.
          <br/>
          Copyright &copy; Dan Friedman,
          <time datetime="2018">2018</time>.
        </center>
      </p>
    </div>
  </footer>

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
  crossorigin="anonymous"></script>

  <!-- This jQuery line finds any span that contains code highlighting classes and then selects the parent <pre> tag and adds a border and background. This is done as a workaround to visually distinguish the code inputs and outputs -->
  <script>
    $( ".hll, .n, .c, .err, .k, .o, .cm, .cp, .c1, .cs, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt, .kc, .kd, .kn, .kp, .kr, .kt, .m, .s, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .ow, .w, .mf, .mh, .mi, .mo, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss, .bp, .vc, .vg, .vi, .il" ).parent( "pre" ).css( "border", "1px solid #038f6d" );
    $( ".hll, .n, .c, .err, .k, .o, .cm, .cp, .c1, .cs, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt, .kc, .kd, .kn, .kp, .kr, .kt, .m, .s, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .ow, .w, .mf, .mh, .mi, .mo, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss, .bp, .vc, .vg, .vi, .il" ).parent( "pre" ).css( "background-color", "#d6eed9" );
  </script>

  <!-- Latest compiled and minified Bootstrap JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="https://dfrieds.com/theme/js/ie10-viewport-bug-workaround.js"></script>
  <!-- <script type="text/javascript">
    $(document).on('click', 'a[href^="#"]', function (event) {
      event.preventDefault();
      $('html, body').animate({
        scrollTop: $($.attr(this, 'href')).offset().top
      }, 500);
    });
  </script> -->

</body>

</html>