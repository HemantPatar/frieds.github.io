<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-97459416-1"> 
  </script>

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-97459416-1');
  </script>

  <meta name="author" content="Dan Friedman">
  <meta name="geo.region" content="CA">
  <meta property="og:locale" content="en_us">
  <meta name="robot" content="all">
  <meta name="referrer" content="always">
  <meta property="fb:profile_id" content="1357771151">
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Dan Friedman's Data Science Knowledge Base">

  <meta property="og:see_also" content="https://twitter.com/_DanFriedman"/>
  <meta property="og:see_also" content="https://www.linkedin.com/in/danfriedman33/"/>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@_DanFriedman">
  <meta name="twitter:image" content="https://pbs.twimg.com/profile_images/950134514113691648/7dt7ECh2_400x400.jpg" />

  <meta name="keywords" content="independent samples t-test python">

  <meta name="description" content="Simple example in Python using NumPy and SciPy to walk through steps of independent sample t-tests">
  <meta property="og:description"  content="Simple example in Python using NumPy and SciPy to walk through steps of independent sample t-tests">
  <meta name="twitter:description" content="Simple example in Python using NumPy and SciPy to walk through steps of independent sample t-tests">

  <meta property="og:title" content="Independent Samples t-tests">
  <meta name="twitter:title" content="Independent Samples t-tests">

  <link rel="canonical" href="https://dfrieds.com/math/independent-samples-t-test"/>

  <title>Independent Samples t-tests - Math</title>

  

  <!-- Latest compiled and minified Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/ie10-viewport-bug-workaround.css" />
  
  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="https://dfrieds.com/theme/css/style.css" />

  <!--don't need this for live-->
  <!-- <link rel="stylesheet" href="theme/css/style.css"/> -->

  <link rel="stylesheet" href="https://dfrieds.com/theme/css/notebooks.css" />
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800,900" rel="stylesheet">


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <link href="https://dfrieds.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Full Atom Feed" />    <link href="https://dfrieds.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Full RSS Feed" />      <link href="https://dfrieds.com/feeds/math.atom.xml" type="application/atom+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Categories Atom Feed" />    <link href="https://dfrieds.com/feeds/math.rss.xml" type="application/rss+xml" rel="alternate" title="Dan Friedman's Data Science Knowledge Base Categories RSS Feed" />    

  <!-- Start of Async Drift Code -->
  <script>
    !function() {
      var t;
      if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0, 
        t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
        t.factory = function(e) {
          return function() {
            var n;
            return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
          };
        }, t.methods.forEach(function(e) {
          t[e] = t.factory(e);
        }), t.load = function(t) {
          var e, n, o, i;
          e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"), 
          o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js", 
          n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
        });
      }();
    drift.SNIPPET_VERSION = '0.3.1';
    drift.load('83xk3ceba36c');
  </script>
  <!-- End of Async Drift Code -->


</head>

<body>
  <div class="math"></div>

  <nav class="navbar navbar-expand-sm fixed-top">
    <div class="container">
      <a class="navbar-brand" href="https://dfrieds.com/">Dan<span class="green">_</span>Friedman</a>
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggle-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="nav navbar-nav mr-auto">
        </ul>
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tutorials</a>
              
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="https://dfrieds.com/#math">Math</a>
                <a class="dropdown-item" href="https://dfrieds.com/#data-analysis">Data Analysis with Pandas</a>
                <a class="dropdown-item" href="https://dfrieds.com/#dataviz">Data Visualizations</a>
                <a class="dropdown-item" href="https://dfrieds.com/#python">Python</a>
                <a class="dropdown-item" href="https://dfrieds.com/#ml">Machine Learning</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://dfrieds.com/#articles">Articles</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://dfrieds.com/about">About</a>
            </li>
          </ul>
      </div>
    </div>
  </nav>


  <!-- end of header section -->
  <div class="container">

<section id="content" class="body">
  <header>
    <div class="posttype"> Math Inferential Statistics Tutorial</div>
    <h1 class="articleh1">
      Independent Samples t-tests
    </h1>

    <ul class ="row article_info">
      
      <li>
        Feb 25&nbsp;&nbsp;&bull;&nbsp;&nbsp;16 min read
      </li>
      <li class="tagarticle">
        Key Terms:         t-tests,
        python,
        scipy,
        numpy
      </li>
    </ul>
  </header>

  <div class='article_content'>
    <p>An <strong>independent samples</strong> t-test compares the means of two independent samples to determine whether there is evidence that the expected population means of each sample would be <em>significantly</em> different. The two independent samples can contain different subjects but the same dependent variable should be measured in each sample. An example - you want to measure if there is a <em>significant</em> difference in the average coffee price of independent coffee shops in Manhattan (part of New York City) versus San Francisco, California.</p>
<p>In order to fully grasp the concepts in this post, it'll help to have familiarity with the following concepts: z-tests, hypothesis testing, p-values, normal distribution, standard deviation, standard error and the central limit theorem.</p>
<p>Typically, you want a larger <span class="math">\(n\)</span> from each sample to control for individual differences. </p>
<p>Similar to dependent t-tests, independent t-tests have the same criteria for setting hypotheses and interpreting results. However, there are different equations to calculate the standard error and t-statistic that will be covered below in the example.</p>
<h3>Data Requirements for Independent Samples t-tests</h3>
<p>The conditions below are largely taken from Kent State University's <a href='https://libguides.library.kent.edu/SPSS/IndependentTTest'>tutorial on t-tests</a>. </p>
<p>Your data must meet the following requirements:</p>
<ul>
<li>Dependent variable that is continuous (i.e., interval or ratio level)</li>
<li>Independent variable that is categorical (i.e., two or more groups)</li>
<li>Independent samples/groups (i.e., independence of observations)</li>
<li>There is no relationship between the subjects in each sample. This means that subjects in the first group cannot also be in the second group. The subjects in either group cannot influence subjects in the other group</li>
<li>No group can influence the other group<ul>
<li>Violation of this assumption will yield an inaccurate p value</li>
</ul>
</li>
<li>Random sample of data from the population</li>
<li>Normal distribution (approximately) of the dependent variable for each group<ul>
<li>Non-normal population distributions, especially those that are thick-tailed or heavily skewed, considerably reduce the power of the test</li>
<li>Among moderate or large samples, a violation of normality may still yield accurate p-values</li>
</ul>
</li>
<li>No outliers</li>
</ul>
<h3>Setup Code</h3>
<h4>Import Modules</h4>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">t</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="kn">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">statsmodels.stats</span> <span class="kn">import</span> <span class="n">weightstats</span> <span class="k">as</span> <span class="n">statsmodelsweightstats</span>
<span class="o">%</span> <span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>


<h4>Set Visualization Style</h4>
<div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">&#39;talk&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>
</pre></div>


<h3>Steps to Perform Independent Samples t-test</h3>
<p>1) Setup the experiment to record measurements from two samples.</p>
<p>2) Set an alpha level for the test, a null hypothesis and alternative hypothesis.</p>
<p>3) Run the experiment and collect the data.</p>
<p>4) Determine if data meets requirements to perform an independent samples t-test.</p>
<p>5) Calculate the t-critical value.</p>
<p>6) Calculate the t-statistic.</p>
<p>7) Compare the t-statistic to the t-critical value. Interpret results of the experiment based on the original hypotheses.</p>
<h3>1) Setup Experiment to Follow Initial Data Requirements</h3>
<p>Below is fictional data scenario. I want to know if the price of coffee is significantly different between a sample of coffee shops in Manhattan versus San Francisco (SF). In order to retrive the data, I will randomly select 5 coffee shops from various neighborhoods in each city. For each shop, I'll take a measurement of the cheapest small drip coffee option. For each city, I'll do this in multiple neighborhoods. </p>
<h3>2) Set an Alpha Level and Original Hypotheses</h3>
<p>The alpha level will be <span class="math">\(0.05\)</span>. </p>
<div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
</pre></div>


<p>Is there a <em>significant</em> difference in the average price of drip coffee at independent coffee shops in Manhattan versus San Francisco? </p>
<p>The null hypothesis is that there is no <em>significant</em> difference in the true population means for the average cup of drip coffee between the cities of San Francisco and Manhattan.</p>
<p><span class="math">\(H_{o}:\mu_{sf}=\mu_{manhattan}\)</span></p>
<p><span class="math">\(H_{a}:\mu_{sf}\neq\mu_{manhattan}\)</span></p>
<p>This is a two-tailed test.</p>
<p>In this independent samples t-test, I'm trying to use sample means from each of the two cities in order to infer the true population parameters.</p>
<h3>3) Collect the Data</h3>
<p>Ultimately, I collected 30 samples of coffee prices in Manhattan and 35 in San Francisco.</p>
<div class="highlight"><pre><span></span><span class="n">manhattan_coffee_prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="mf">1.79</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span> <span class="o">+</span> <span class="p">[</span><span class="mf">1.85</span><span class="p">]</span><span class="o">*</span><span class="mi">5</span> <span class="o">+</span> <span class="p">[</span><span class="mf">1.99</span><span class="p">]</span><span class="o">*</span><span class="mi">7</span> <span class="o">+</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span> <span class="o">+</span> <span class="p">[</span><span class="mf">2.19</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="mf">2.29</span><span class="p">]</span><span class="o">*</span><span class="mi">5</span> <span class="o">+</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">sf_coffee_prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.99</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="mf">2.29</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span> <span class="o">+</span> <span class="p">[</span><span class="mf">2.49</span><span class="p">]</span><span class="o">*</span><span class="mi">9</span> <span class="o">+</span> <span class="p">[</span><span class="mf">2.79</span><span class="p">]</span><span class="o">*</span><span class="mi">7</span> <span class="o">+</span> <span class="p">[</span><span class="mf">2.95</span><span class="p">]</span><span class="o">*</span><span class="mi">6</span> <span class="o">+</span> <span class="p">[</span><span class="mf">2.99</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span> <span class="o">+</span> <span class="p">[</span><span class="mf">3.49</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span>
</pre></div>


<h3>4) Determine if Data Meets Requirements to Perform an Independent Samples t-test</h3>
<p>The dependent variable, the price of coffee in U.S. dollars is continuous. The independent variable, the identity of the city, is a proper independent variable.</p>
<p>In the data collection process, I ensured the coffee shops were all independent of one another. There is no relationship in ownership or name for any of the shops. </p>
<p>I'm assuming there's influence of groups on setting the price of coffee because of distinct ownership and cities.</p>
<p>I mentioned I randomly sampled coffee shops from various neighborhoods in each city. </p>
<p>Let's check the distribution of coffee prices in each city.</p>
<h4>Distribution of Prices in Each City</h4>
<p>The distribution of coffee prices for the sample in Manhattan below looks approximately normal.</p>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">manhattan_coffee_prices</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribution of Coffee Prices in Manhattan&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;price of cup of coffee [$]&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;count of occurences&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">);</span>
</pre></div>


<p><img alt="png" src="independent_samples_t_tests_files/independent_samples_t_tests_25_0.png"></p>
<p>The distribution of coffee prices for the sample in San Francisco below looks approximately normal.</p>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">sf_coffee_prices</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkcyan&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribution of Coffee Prices in San Francisco&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;price of cup of coffee [$]&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;count of occurences&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">);</span>
</pre></div>


<p><img alt="png" src="independent_samples_t_tests_files/independent_samples_t_tests_27_0.png"></p>
<h4>Check for Outliers in Each City</h4>
<p>The boxplot of Manhattan cup of coffee prices belows show no outliers.</p>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">manhattan_coffee_prices</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribution of Coffee Prices in Manhattan&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;coffee prices [$]&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">);</span>
</pre></div>


<p><img alt="png" src="independent_samples_t_tests_files/independent_samples_t_tests_30_0.png"></p>
<p>The boxplot of San Francisco cup of coffee prices belows show no outliers too.</p>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">sf_coffee_prices</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkcyan&#39;</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribution of Coffee Prices in San Francisco&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;coffee prices [$]&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">);</span>
</pre></div>


<p><img alt="png" src="independent_samples_t_tests_files/independent_samples_t_tests_32_0.png"></p>
<p>Overall, I think this data fits the requirements to perform an independent samples t-test.</p>
<h3>5) Calculate t-critical Value</h3>
<p>Assign variables for the count of observations in each group.</p>
<div class="highlight"><pre><span></span><span class="n">manhattan_count_observations</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">manhattan_coffee_prices</span><span class="p">)</span>
<span class="n">sf_count_observations</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sf_coffee_prices</span><span class="p">)</span>
</pre></div>


<p>Different than other types of t-tests, the calculation for degrees of freedom for an independent samples t-test is:</p>
<div class="math">$$(n_{1}-1)+(n_{2}-1)$$</div>
<p>This can be simplified to:</p>
<div class="math">$$n_{1}+n_{2}-2$$</div>
<div class="highlight"><pre><span></span><span class="n">degrees_of_freedom</span> <span class="o">=</span> <span class="n">sf_count_observations</span> <span class="o">+</span> <span class="n">manhattan_count_observations</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">degrees_of_freedom</span>
</pre></div>


<div class="highlight"><pre><span></span>63
</pre></div>


<p>This is a two-tailed t-test so each tail probability on the t-distribution is <span class="math">\(0.025\)</span>. We use that value below.</p>
<div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">two_tailed_test_prob_tail</span> <span class="o">=</span> <span class="n">alpha</span><span class="o">/</span><span class="mi">2</span>
<span class="n">t_critical</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">two_tailed_test_prob_tail</span><span class="p">,</span> <span class="n">degrees_of_freedom</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">t_critical</span>
</pre></div>


<div class="highlight"><pre><span></span>-1.998
</pre></div>


<p>Since this is a two-tailed test, the t-critical value is actually <span class="math">\(\pm1.998\)</span></p>
<h3>6) Calculate the t-statistic</h3>
<p>There's a method in the Scipy package for performing indepenent t-tests called <a href='https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html'><code>ttest_ind()</code></a>. We set the following arguments:</p>
<ul>
<li><code>a</code> to one sample of values</li>
<li><code>b</code> to the second sample of values</li>
<li><code>equal_var</code> to <code>False</code> since we assume the samples have unequal population variances</li>
<li><code>nan_policy</code> to <code>omit</code> since the two samples are unequal sizes and SciPy must handle that discrepancy appropriately with equations on the backend</li>
</ul>
<p>In the method, there is a calculation for the mean of <code>a</code> minus <code>b</code>. Our returned t-statistic is negative since the mean of <code>b</code> (the average price for a cup of coffee in SF) is larger than the mean of <code>a</code> (the average price for a cup of coffee in Manhattan).</p>
<div class="highlight"><pre><span></span><span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">manhattan_coffee_prices</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">sf_coffee_prices</span><span class="p">,</span> <span class="n">equal_var</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">nan_policy</span><span class="o">=</span><span class="s1">&#39;omit&#39;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>Ttest_indResult(statistic=-9.2256676192423, pvalue=4.387713543565749e-13)
</pre></div>


<p>I also can utilize the simple t-statistic math equation: </p>
<div class="math">$$t=\frac{\bar{x}_{1}-\bar{x}_{2}}{SE}$$</div>
<p>First, I'll calculate the mean of each sample.</p>
<div class="highlight"><pre><span></span><span class="n">mean_manhattan_coffee_price</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">manhattan_coffee_prices</span><span class="p">)</span>
<span class="n">mean_sf_coffee_price</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sf_coffee_prices</span><span class="p">)</span>
</pre></div>


<p>I calculate the standard deviation for each sample using the <a href='https://docs.scipy.org/doc/numpy/reference/generated/numpy.std.html'>sample standard deviation formula</a>.</p>
<div class="highlight"><pre><span></span><span class="n">std_dev_manhattan_coffee_prices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">manhattan_coffee_prices</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">std_dev_sf_coffee_prices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">sf_coffee_prices</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<p>I calculate the standard error. This standard error is the standard deviation for an estimated sampling distribution that resembles the difference in sample means.</p>
<p>Below is the formula for standard error among two samples for indpendent t-tests. This accounts for any potential variation in sizes of the samples.</p>
<div class="math">$$SE=\sqrt{\frac{s_{1}^{2}}{n_{1}}+\frac{s_{2}^{2}}{n_{2}}}$$</div>
<p>The subscript <span class="math">\(1\)</span> denotes variables for one group and the subscript <span class="math">\(2\)</span> denotes variables for the second group.</p>
<ul>
<li><span class="math">\(s\)</span> is the sample standard deviation</li>
<li><span class="math">\(n\)</span> is the number of observations in a sample</li>
</ul>
<div class="highlight"><pre><span></span><span class="n">standard_error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">std_dev_manhattan_coffee_prices</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">manhattan_count_observations</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">std_dev_sf_coffee_prices</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">sf_count_observations</span><span class="p">))</span>
<span class="n">standard_error</span>
</pre></div>


<div class="highlight"><pre><span></span>0.07745987359533105
</pre></div>


<p>Finally, use the intermediary calculations above to calculate the exact t-statistic value.</p>
<div class="highlight"><pre><span></span><span class="n">t_statistic</span> <span class="o">=</span> <span class="p">(</span><span class="n">mean_manhattan_coffee_price</span><span class="o">-</span><span class="n">mean_sf_coffee_price</span><span class="p">)</span><span class="o">/</span><span class="n">standard_error</span>
<span class="n">t_statistic</span>
</pre></div>


<div class="highlight"><pre><span></span>-9.2256676192423
</pre></div>


<p>This manual version of calculating the t-statistic returned the <em>same</em> result as the programmatic way. </p>
<h4>Interpretation of Results</h4>
<p>The t-statistic value of <span class="math">\(-9.23\)</span> is much smaller than the negative t-critical value of <span class="math">\(-1.998\)</span>. Therefore, there is sufficient evidence to reject the null hypothesis. There is a <em>significant</em> difference between a cup of drip coffee prices sold in independent shops between San Francisco and Manhattan at an alpha level of <span class="math">\(0.05\)</span>. I would not expect to see such a large discrepancy between cups of coffee due to random chance.</p>
<p>The difference in coffee cup prices between Manhattan and SF is <span class="math">\(9.23\)</span> times greater than you would expect if the null hypothesis was true. Another way of saying this is that the difference in the two city's coffee prices is <span class="math">\(9.23\)</span> times <em>greater</em> than it would be by random chance.</p>
<p>The returned p-value is <span class="math">\(4.39e-19\)</span> which is equivalent to a probability of <span class="math">\(0.000000000000339\)</span> or <span class="math">\(0.0000000000339\%\)</span>. If I assumed both cities had the same cup of drip coffee in the long-run (the null hypothesis), I would expect a discrepancy from our t-test this big just <span class="math">\(0.0000000000339\%\)</span> of times with sampling shops. That's a very very low probability!! With such a small probability, it would be nearly impossible to get a difference in cup of coffee prices so large between cities this big due to random chance.</p>
<p>I would infer that I'd expect to see similar results for the entire population.</p>
<h4>Effect Size Measures</h4>
<p>What proportion of the difference in the mean price of a cup of coffee can be attributed to being in a different city of either SF or Manhattan?</p>
<p>The <span class="math">\(r^2\)</span> returned below is <span class="math">\(0.575\)</span></p>
<div class="highlight"><pre><span></span><span class="n">r_squared_coffee</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">t_statistic</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="n">t_statistic</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">degrees_of_freedom</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">r_squared_coffee</span>
</pre></div>


<div class="highlight"><pre><span></span>0.575
</pre></div>


<p>There is a <em>fair amount</em> of variation between the mean price cup of drip coffee in shops between SF and Manhattan.</p>
<h3>Independant t-test Example: Price of Beverages in SF Greater Than in Manhattan by <span class="math">\(\\)</span>0.43$</h3>
<p>Let's say some website claimed the average price of a single beverage item served at a retail location in San Francisco is <span class="math">\(\\)</span>0.43$ more than in Manhattan. I can utilize this information to form new hypotheses to perform a t-test. I'm curious if a small cup of drip coffee at independent coffee shops in San Francisco is still <em>relatively significantly</em> more expensive than Manhattan. </p>
<p>Now, this is a one-tail positive direction independent samples t-test. </p>
<p><span class="math">\(H_{o}:\mu_{sf}-0.43&lt;=\mu_{manhattan}\)</span></p>
<p><span class="math">\(H_{a}:\mu_{sf}-0.43&gt;\mu_{manhattan}\)</span></p>
<h4>Calculate t-critical value</h4>
<p>This is a one-tailed positive direction t-test with an alpha level of <span class="math">\(0.05\)</span>, there should be an area under the curve of the t-distribution to the left of a t-critical value of <span class="math">\(0.95\)</span>.</p>
<div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">area_left_under_curve</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">alpha</span>
<span class="n">t_critical</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">area_left_under_curve</span><span class="p">,</span> <span class="n">degrees_of_freedom</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">t_critical</span>
</pre></div>


<div class="highlight"><pre><span></span>1.669
</pre></div>


<h4>Calculate t-statistic</h4>
<p>I also can utilize the simple t-statistic math equation from earlier: </p>
<div class="math">$$t=\frac{\bar{x}_{1}-\bar{x}_{2}}{SE}$$</div>
<p>However, I want to incorporate <span class="math">\(\\)</span>0.43$ in the numerator so the t-statistic calculation will be:</p>
<div class="math">$$t=\frac{\mu_{sf}-\mu_{manhattan}-0.43}{SE}$$</div>
<p>For the t-statistic equation, the numerator should be closer to 0 with this additional value of the difference in means under the null hypothesis.</p>
<p>Previously, the numerator for the two-tailed test was:</p>
<div class="highlight"><pre><span></span><span class="n">original_numerator</span> <span class="o">=</span> <span class="n">mean_manhattan_coffee_price</span><span class="o">-</span><span class="n">mean_sf_coffee_price</span>
<span class="n">original_numerator</span>
</pre></div>


<div class="highlight"><pre><span></span>-0.7146190476190473
</pre></div>


<p>The new numerator is now:</p>
<div class="highlight"><pre><span></span><span class="n">updated_numerator</span> <span class="o">=</span> <span class="n">mean_sf_coffee_price</span><span class="o">-</span><span class="n">mean_manhattan_coffee_price</span><span class="o">-</span><span class="mf">0.43</span>
<span class="n">updated_numerator</span>
</pre></div>


<div class="highlight"><pre><span></span>0.28461904761904727
</pre></div>


<p>Calculate the t-statistic using the formula above.</p>
<div class="highlight"><pre><span></span><span class="n">t_statistic_sf_greater</span> <span class="o">=</span> <span class="p">(</span><span class="n">updated_numerator</span><span class="p">)</span><span class="o">/</span><span class="n">standard_error</span>
<span class="n">t_statistic_sf_greater</span>
</pre></div>


<div class="highlight"><pre><span></span>3.674406301073578
</pre></div>


<p><a href='https://www.statsmodels.org/stable/index.html'>StatsModels</a> is a great package in python for statistical computations. I can use the <code>ttest_ind()</code> <a href='https://www.statsmodels.org/dev/generated/statsmodels.stats.weightstats.ttest_ind.html'>method</a>. For this method, we set the following arguments:</p>
<ul>
<li><code>x1</code> to the list of <code>manhattan_coffee_prices</code> </li>
<li><code>x2</code> to the list of <code>sf_coffee_prices</code></li>
<li><code>alternative</code> to <code>larger</code> since the alternative hypothesis is to identify if the t-statistic is larger than a positive t-critical value</li>
<li><code>usevar</code> to <code>unequal</code> because the standard deviation of samples is unequal and there are unequal sample sizes. (Read more about <a href='https://en.wikipedia.org/wiki/Welch%27s_t-test'>Welch's variation of the t-test</a> here.)</li>
<li><code>value</code> to <code>0.43</code> since that's the value we want subtracted from the difference in means</li>
</ul>
<div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">statsmodelsweightstats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">x1</span><span class="o">=</span><span class="n">sf_coffee_prices</span><span class="p">,</span> <span class="n">x2</span><span class="o">=</span><span class="n">manhattan_coffee_prices</span><span class="p">,</span> <span class="n">alternative</span><span class="o">=</span><span class="s1">&#39;larger&#39;</span><span class="p">,</span> <span class="n">usevar</span><span class="o">=</span><span class="s1">&#39;unequal&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.43</span><span class="p">)</span> 
<span class="n">t_statistic_sf_greater2</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">p_value</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">degrees_of_freedom</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">t_statistic_sf_greater2</span>
</pre></div>


<div class="highlight"><pre><span></span>3.6744063010735837
</pre></div>


<p>With the formula above and using the <code>StatsModels</code> library, we get the same t-statistic result from using the formula above.</p>
<h4>Interpret Results</h4>
<p>The t-critical value is <span class="math">\(1.669\)</span> and the t-statistic is <span class="math">\(3.67\)</span></p>
<p>Since this is a one-tailed positive direction test and the t-statistic is greater than the t-critical value, there is sufficient evidence to reject the null hypothesis.</p>
<p>There is a <em>relative significant</em> difference that the price of a cup of a small drip coffee at independent shops in San Francisco is greater than Manhattan.</p>
<div class="highlight"><pre><span></span>
</pre></div>


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "left",
        indent = "1em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
</section>

  </div>
  
  <!-- start of footer section -->
  <footer class="footer">
    <div class="container">
      <p class="text-muted">
        <center>Thank you for reading my content! This project is available on <a href="https://github.com/frieds/frieds.github.io">GitHub</a>.
          <br/>
          Copyright &copy; Dan Friedman,
          <time datetime="2019">2019</time>.
        </center>
      </p>
    </div>
  </footer>

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
  crossorigin="anonymous"></script>

  <!-- This jQuery line finds any span that contains code highlighting classes and then selects the parent <pre> tag and adds a border and background. This is done as a workaround to visually distinguish the code inputs and outputs -->
  <script>
    $( ".hll, .n, .c, .err, .k, .o, .cm, .cp, .c1, .cs, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt, .kc, .kd, .kn, .kp, .kr, .kt, .m, .s, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .ow, .w, .mf, .mh, .mi, .mo, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss, .bp, .vc, .vg, .vi, .il" ).parent( "pre" ).css( "border", "1px solid #038f6d" );
    $( ".hll, .n, .c, .err, .k, .o, .cm, .cp, .c1, .cs, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt, .kc, .kd, .kn, .kp, .kr, .kt, .m, .s, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .ow, .w, .mf, .mh, .mi, .mo, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss, .bp, .vc, .vg, .vi, .il" ).parent( "pre" ).css( "background-color", "#d6eed9" );
  </script>

  <!-- Latest compiled and minified Bootstrap JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="https://dfrieds.com/theme/js/ie10-viewport-bug-workaround.js"></script>
  <!-- <script type="text/javascript">
    $(document).on('click', 'a[href^="#"]', function (event) {
      event.preventDefault();
      $('html, body').animate({
        scrollTop: $($.attr(this, 'href')).offset().top
      }, 500);
    });
  </script> -->

</body>

</html>